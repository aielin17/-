<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
<title>Style Gallery</title>
<link rel="stylesheet" href="style.css">
<style id="dbs"></style>
</head>
<body>

<header class="header">
  <div class="brand">
    <div class="brand-icon">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.2">
        <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/>
      </svg>
    </div>
    Style Gallery
  </div>
  <div class="search-wrap">
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.2"><circle cx="11" cy="11" r="8"/><path d="M21 21l-4.35-4.35"/></svg>
    <input type="text" class="search-input" placeholder="搜索名称、作者…" id="search-input" autocomplete="off" spellcheck="false">
  </div>
  <button class="theme-toggle" id="theme-toggle" title="切换日夜模式" aria-label="切换日夜模式">
    <svg id="theme-icon-sun" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="display:none"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
    <svg id="theme-icon-moon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg>
  </button>
  <div class="header-nav">
    <div class="nav-btn active" data-tab="gallery">画廊</div>
    <div class="nav-btn" data-tab="submit">投稿</div>
  </div>
</header>

<div class="workspace" id="gallery-view">

  <div class="sidebar" id="sidebar">
    <div class="sidebar-inner">
      <div>
        <div class="s-label">类型</div>
        <div class="type-list" id="type-list">
          <div class="type-pill active" data-type="all">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="7" height="7" rx="1"/><rect x="14" y="3" width="7" height="7" rx="1"/><rect x="3" y="14" width="7" height="7" rx="1"/><rect x="14" y="14" width="7" height="7" rx="1"/></svg>
            全部 <span class="pill-count" id="c-all">0</span>
          </div>
          <div class="type-pill" data-type="bubble">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>
            气泡 <span class="pill-count" id="c-bubble">0</span>
          </div>
          <div class="type-pill" data-type="font">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 7V4h16v3M9 20h6M12 4v16"/></svg>
            字体 <span class="pill-count" id="c-font">0</span>
          </div>
          <div class="type-pill fav-pill" data-type="fav">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/></svg>
            收藏 <span class="pill-count" id="c-fav">0</span>
          </div>
        </div>
      </div>
      <div>
        <div class="s-label">作者</div>
        <div class="author-list" id="author-list"></div>
      </div>
    </div>
  </div>

  <div class="main">
    <div class="toolbar">
      <div class="mobile-filter-btn" id="mobile-filter-btn">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><line x1="4" y1="6" x2="20" y2="6"/><line x1="8" y1="12" x2="16" y2="12"/><line x1="11" y1="18" x2="13" y2="18"/></svg>
        筛选
      </div>
      <span class="toolbar-info" id="toolbar-info">0 个结果</span>
    </div>
    <div class="card-area">
      <div class="card-grid" id="card-grid"></div>
    </div>
  </div>

</div>

<div class="submit-view" id="submit-view">
  <div class="submit-card">
    <div class="s-header">
      <h2>提交你的创意</h2>
      <p>选择类型，填写信息，通过邮件发送给我</p>
    </div>
    <div class="s-type-row">
      <button class="s-type-btn active" onclick="switchForm('bubble')">💬 气泡投稿</button>
      <button class="s-type-btn" onclick="switchForm('font')">✦ 字体投稿</button>
    </div>

    <div class="form-panel active" id="form-bubble">
      <div class="fg"><label class="fl">气泡名称</label><input type="text" class="fi" placeholder="给你的气泡起个名字" id="bubble-name"></div>
      <div class="fg"><label class="fl">作者署名</label><input type="text" class="fi" placeholder="展示用的昵称" id="bubble-author"></div>
      <div class="fg">
        <label class="fl">所属系列（可选）</label>
        <span class="fl-sub">如果这是某系列的其中一个变体，请填写系列名称，方便归组展示</span>
        <input type="text" class="fi" placeholder="例如：心脉系列（留空则为独立气泡）" id="bubble-series">
      </div>
      <div class="fg">
        <label class="fl">系列 ID（可选）</label>
        <span class="fl-sub">同系列所有变体需填写相同 ID，仅限英文字母/数字，例如：xinmai</span>
        <input type="text" class="fi" placeholder="例如：xinmai（新系列可留空，由管理员分配）" id="bubble-group-id">
      </div>
      <div class="fg">
        <label class="fl">CSS 代码</label>
        <span class="fl-sub">需包含 .message-sent 和 .message-received 类</span>
        <textarea class="fta" id="bubble-css" placeholder=" "></textarea>
      </div>
      <div class="fg">
        <label class="fl">预览对话（2～4 条）</label>
        <span class="fl-sub">留空则跳过该行</span>
        <div class="preview-inputs">
          <div class="pi-row"><span class="pi-tag">发送</span><input type="text" class="fi" id="p1" placeholder="第一条消息"></div>
          <div class="pi-row"><span class="pi-tag">接收</span><input type="text" class="fi" id="p2" placeholder="第二条消息"></div>
          <div class="pi-row"><span class="pi-tag">发送</span><input type="text" class="fi" id="p3" placeholder="第三条（可选）"></div>
          <div class="pi-row"><span class="pi-tag">接收</span><input type="text" class="fi" id="p4" placeholder="第四条（可选）"></div>
        </div>
      </div>
      <button class="submit-btn" onclick="doSubmit('bubble')">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg>
        唤起邮件客户端发送
      </button>
      <div class="fallback-panel" id="fallback-bubble">
        <div class="fallback-title">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width:14px;height:14px;color:var(--accent)"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg>
          没有邮件客户端？手动发送
        </div>
        <p class="fallback-desc">将以下内容复制后，通过任意方式（QQ / 微信 / 邮件网页版）发送给我</p>
        <div class="fallback-to">
          <span>收件地址</span>
          <strong id="fb-email-b"><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="1f2c2e2a2d2f2c282d2d2b5f6e6e317c7072">[email&#160;protected]</a></strong>
        </div>
        <textarea class="fallback-code" id="fb-content-bubble" readonly></textarea>
        <div class="fallback-btns">
          <button class="fb-btn" onclick="copyFallback('bubble')">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
            复制投稿内容
          </button>
          <button class="fb-btn" onclick="copyEmail('bubble')">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/></svg>
            复制收件地址
          </button>
        </div>
      </div>
    </div>

    <div class="form-panel" id="form-font">
      <div class="fg"><label class="fl">字体名称</label><input type="text" class="fi" placeholder="字体名称" id="font-name"></div>
      <div class="fg"><label class="fl">作者署名</label><input type="text" class="fi" placeholder="昵称" id="font-author"></div>
      <div class="fg">
        <label class="fl">字体链接</label>
        <span class="fl-sub">直链 URL，支持 .ttf / .otf / .woff2 等格式</span>
        <input type="text" class="fi" placeholder="https://example.com/font.ttf" id="font-url">
      </div>
      <div class="fg">
        <label class="fl">字体分类</label>
        <span class="fl-sub">方便整理归档</span>
        <select class="fi" id="font-category">
          <option value="手写">手写体</option>
          <option value="衬线">衬线体</option>
          <option value="无衬线">无衬线体</option>
          <option value="艺术">艺术字</option>
          <option value="等宽">等宽体</option>
          <option value="其他">其他</option>
        </select>
      </div>
      <button class="submit-btn" onclick="doSubmit('font')">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg>
        唤起邮件客户端发送
      </button>
      <div class="fallback-panel" id="fallback-font">
        <div class="fallback-title">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width:14px;height:14px;color:var(--accent)"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg>
          没有邮件客户端？手动发送
        </div>
        <p class="fallback-desc">将以下内容复制后，通过任意方式（QQ / 微信 / 邮件网页版）发送给我</p>
        <div class="fallback-to">
          <span>收件地址</span>
          <strong id="fb-email-f"><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="2f1c1e1a1d1f1c181d1d1b6f5e5e014c4042">[email&#160;protected]</a></strong>
        </div>
        <textarea class="fallback-code" id="fb-content-font" readonly></textarea>
        <div class="fallback-btns">
          <button class="fb-btn" onclick="copyFallback('font')">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
            复制投稿内容
          </button>
          <button class="fb-btn" onclick="copyEmail('font')">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/></svg>
            复制收件地址
          </button>
        </div>
      </div>
    </div>

  </div>
</div>

<div class="modal-backdrop" id="modal-backdrop">
  <div class="modal" id="modal" role="dialog" aria-modal="true">
    <div class="modal-handle"></div>
    <div class="modal-header">
      <div class="modal-title-area">
        <div id="modal-badge"></div>
        <span class="modal-name" id="modal-name">预览</span>
      </div>
      <div class="modal-header-actions">
        <button class="modal-fav-btn" id="modal-fav-btn" title="收藏">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/></svg>
        </button>
        <button class="modal-close" id="modal-close" aria-label="关闭">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M18 6L6 18M6 6l12 12"/></svg>
        </button>
      </div>
    </div>
    <div class="modal-body" id="modal-body"></div>
    <div class="modal-footer" id="modal-footer"></div>
  </div>
</div>

<div class="filter-drawer" id="filter-drawer">
  <div class="filter-drawer-bg" id="filter-drawer-bg"></div>
  <div class="filter-drawer-panel">
    <div>
      <div class="s-label">类型</div>
      <div class="type-list" id="m-type-list">
        <div class="type-pill active" data-type="all">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="7" height="7" rx="1"/><rect x="14" y="3" width="7" height="7" rx="1"/><rect x="3" y="14" width="7" height="7" rx="1"/><rect x="14" y="14" width="7" height="7" rx="1"/></svg>
          全部 <span class="pill-count" id="mc-all">0</span>
        </div>
        <div class="type-pill" data-type="bubble">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>
          聊天气泡 <span class="pill-count" id="mc-bubble">0</span>
        </div>
        <div class="type-pill" data-type="font">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 7V4h16v3M9 20h6M12 4v16"/></svg>
          字体 <span class="pill-count" id="mc-font">0</span>
        </div>
        <div class="type-pill fav-pill" data-type="fav">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/></svg>
          收藏 <span class="pill-count" id="mc-fav">0</span>
        </div>
      </div>
    </div>
    <div>
      <div class="s-label">作者</div>
      <div class="author-list" id="m-author-list"></div>
    </div>
  </div>
</div>

<div id="toast"></div>

<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script>

<script src="data.js"></script>

<script src="main.js"></script>

</body>
</html>