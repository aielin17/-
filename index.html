<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
<title>Style Gallery</title>
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0;-webkit-tap-highlight-color:transparent}
:root{
  --bg:#f4f4f8;
  --surface:#ffffff;
  --border:#e2e2e8;
  --border-strong:#c8c8d0;
  --text:#0d0d12;
  --text-sub:#888898;
  --text-muted:#b0b0bc;
  --accent:#5b5fef;
  --accent-hover:#4a4edd;
  --accent-bg:rgba(91,95,239,.08);
  --accent-bg2:rgba(91,95,239,.15);
  --fav:#ef4444;
  --fav-bg:rgba(239,68,68,.08);
  --radius:16px;
  --radius-sm:10px;
  --sidebar:240px;
  --hh:58px;
  --shadow-sm:0 1px 3px rgba(0,0,0,.06),0 1px 2px rgba(0,0,0,.04);
  --shadow:0 4px 16px rgba(0,0,0,.08),0 1px 4px rgba(0,0,0,.04);
  --shadow-lg:0 12px 40px rgba(0,0,0,.14),0 4px 12px rgba(0,0,0,.06);
}
@font-face{font-family:'F1';src:url('https://files.catbox.moe/kmyipl.TTF') format('truetype');font-display:swap}
@font-face{font-family:'F2';src:url('https://image.uglycat.cc/6wapca.ttf') format('truetype');font-display:swap}
@font-face{font-family:'F3';src:url('https://files.catbox.moe/3bm8wp.ttf') format('truetype');font-display:swap}
@font-face{font-family:'F4';src:url('https://files.catbox.moe/caatu4.TTF') format('truetype');font-display:swap}
@font-face { font-family:'F5'; src:url('https://files.catbox.moe/sshsu7.ttf') format('truetype'); font-display:swap }
@font-face { font-family:'F6'; src:url('https://image.uglycat.cc/1ma2ld.ttf') format('truetype'); font-display:swap }

html{height:100%}
body{
  font-family:-apple-system,"SF Pro Text","PingFang SC","Helvetica Neue",sans-serif;
  background:var(--bg);color:var(--text);
  height:100dvh;display:flex;flex-direction:column;overflow:hidden;line-height:1.5;
}

.header{
  height:var(--hh);background:rgba(255,255,255,.92);border-bottom:1px solid var(--border);
  backdrop-filter:blur(24px);-webkit-backdrop-filter:blur(24px);
  display:flex;align-items:center;padding:0 16px;gap:10px;flex-shrink:0;z-index:100;
  transform:translateY(-100%);animation:slideDown .4s cubic-bezier(.22,1,.36,1) .05s forwards;
}
.brand{font-weight:800;font-size:16px;letter-spacing:-.5px;display:flex;align-items:center;gap:7px;flex-shrink:0;color:var(--text)}
.brand-icon{width:28px;height:28px;background:linear-gradient(135deg,#5b5fef,#a855f7);border-radius:8px;display:flex;align-items:center;justify-content:center;flex-shrink:0}
.brand-icon svg{width:15px;height:15px;color:#fff}

.search-wrap{flex:1;max-width:320px;position:relative}
.search-wrap svg{position:absolute;left:10px;top:50%;transform:translateY(-50%);width:14px;height:14px;color:var(--text-muted);pointer-events:none}
.search-input{
  width:100%;padding:8px 12px 8px 32px;border:1.5px solid var(--border);border-radius:10px;
  font-size:13.5px;background:#f6f6fa;font-family:inherit;transition:all .18s;color:var(--text);
}
.search-input::placeholder{color:var(--text-muted)}
.search-input:focus{border-color:var(--accent);background:#fff;box-shadow:0 0 0 3px var(--accent-bg);outline:none}

.header-nav{display:flex;gap:2px;background:#eeeef4;padding:3px;border-radius:10px;margin-left:auto;flex-shrink:0}
.nav-btn{
  cursor:pointer;font-size:12.5px;font-weight:600;color:var(--text-sub);
  padding:5px 14px;border-radius:7px;transition:all .15s;user-select:none;white-space:nowrap;
}
.nav-btn.active{background:#fff;color:var(--text);box-shadow:var(--shadow-sm)}
.nav-btn:hover:not(.active){color:var(--text)}

.workspace{flex:1;display:flex;overflow:hidden;opacity:0;animation:fadeIn .35s ease .25s forwards}

.sidebar{
  width:var(--sidebar);flex-shrink:0;background:var(--surface);border-right:1px solid var(--border);
  display:flex;flex-direction:column;overflow:hidden;transition:width .3s cubic-bezier(.22,1,.36,1);
}
.sidebar.hidden{width:0}
.sidebar-inner{flex:1;overflow-y:auto;overflow-x:hidden;padding:16px 12px;display:flex;flex-direction:column;gap:22px}
.sidebar-inner::-webkit-scrollbar{width:3px}
.sidebar-inner::-webkit-scrollbar-thumb{background:#ddd;border-radius:4px}

.s-label{font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:.9px;color:var(--text-muted);margin-bottom:9px;padding:0 4px}
.type-list,.author-list{display:flex;flex-direction:column;gap:2px}
.type-pill{
  padding:8px 10px;border-radius:10px;font-size:13px;font-weight:500;cursor:pointer;
  transition:all .15s;color:var(--text-sub);display:flex;align-items:center;gap:9px;user-select:none;
}
.type-pill:hover{background:#f4f4f8;color:var(--text)}
.type-pill.active{background:var(--accent-bg);color:var(--accent);font-weight:700}
.type-pill.fav-pill.active{background:var(--fav-bg);color:var(--fav)}
.type-pill svg{width:14px;height:14px;flex-shrink:0;opacity:.7}
.type-pill.active svg{opacity:1}
.pill-count{margin-left:auto;font-size:10px;font-weight:700;background:rgba(0,0,0,.06);padding:1px 7px;border-radius:20px;color:var(--text-muted)}
.type-pill.active .pill-count{background:var(--accent-bg2);color:var(--accent)}
.type-pill.fav-pill.active .pill-count{background:rgba(239,68,68,.15);color:var(--fav)}

.author-chip{
  padding:6px 10px;border-radius:8px;font-size:12.5px;cursor:pointer;transition:.15s;
  color:var(--text-sub);user-select:none;display:flex;align-items:center;justify-content:space-between;
}
.author-chip:hover{background:#f4f4f8;color:var(--text)}
.author-chip.active{background:var(--accent-bg);color:var(--accent);font-weight:600}
.author-chip-n{font-size:10.5px;opacity:.55}

.main{flex:1;display:flex;flex-direction:column;overflow:hidden;min-width:0}

.toolbar{
  padding:10px 16px;border-bottom:1px solid var(--border);background:var(--surface);
  display:flex;align-items:center;gap:10px;flex-shrink:0;
}
.toolbar-info{font-size:12px;color:var(--text-sub);font-weight:500}
.mobile-filter-btn{
  display:none;align-items:center;gap:5px;font-size:12px;font-weight:600;color:var(--accent);
  padding:5px 10px;border-radius:8px;background:var(--accent-bg);cursor:pointer;user-select:none;flex-shrink:0;
}
.mobile-filter-btn svg{width:13px;height:13px}

.card-area{flex:1;overflow-y:auto;padding:16px}
.card-area::-webkit-scrollbar{width:4px}
.card-area::-webkit-scrollbar-thumb{background:#ddd;border-radius:4px}
.card-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:10px}

.item-card{
  background:var(--surface);border:1.5px solid var(--border);border-radius:var(--radius);
  padding:14px 15px;cursor:pointer;transition:all .18s cubic-bezier(.25,.46,.45,.94);
  display:flex;flex-direction:column;gap:10px;
  opacity:0;transform:translateY(10px);animation:cardIn .3s cubic-bezier(.22,1,.36,1) forwards;
  position:relative;overflow:hidden;
}
.item-card::before{
  content:'';position:absolute;inset:0;border-radius:var(--radius);
  background:linear-gradient(135deg,transparent 60%,rgba(91,95,239,.03));pointer-events:none;
}
.item-card:hover{border-color:var(--border-strong);box-shadow:var(--shadow);transform:translateY(-2px)}
.item-card.active{border-color:var(--accent);box-shadow:0 0 0 2px var(--accent-bg2),var(--shadow)}
.item-card.favorited{border-color:rgba(239,68,68,.25)}

.card-top{display:flex;align-items:flex-start;justify-content:space-between;gap:8px}
.card-name{font-size:14px;font-weight:700;line-height:1.3;color:var(--text)}
.card-badge{
  font-size:9.5px;font-weight:800;padding:2px 7px;border-radius:5px;flex-shrink:0;
  margin-top:2px;text-transform:uppercase;letter-spacing:.3px;
}
.badge-bubble{background:#e8f0ff;color:#3478f6}
.badge-font{background:#f0eaff;color:#8b5cf6}

.card-author{font-size:11.5px;color:var(--text-sub);background:#f4f4f8;padding:3px 8px;border-radius:6px;width:fit-content}

.card-actions{display:flex;gap:6px;justify-content:flex-end;align-items:center;margin-top:2px}
.btn-preview{
  height:30px;padding:0 11px;border:1.5px solid var(--border);background:#fff;border-radius:8px;
  display:flex;align-items:center;gap:5px;cursor:pointer;transition:.15s;color:var(--text-sub);font-size:11.5px;font-weight:600;
  font-family:inherit;
}
.btn-preview:hover{border-color:var(--accent);color:var(--accent);background:var(--accent-bg)}
.btn-preview svg{width:12px;height:12px}
.btn-icon{
  width:30px;height:30px;border:1.5px solid var(--border);background:#fff;border-radius:8px;
  display:flex;align-items:center;justify-content:center;cursor:pointer;transition:.15s;color:var(--text-sub);flex-shrink:0;
}
.btn-icon:hover{border-color:var(--border-strong);color:var(--text);background:#f4f4f8}
.btn-icon:active{transform:scale(.92)}
.btn-icon svg{width:12.5px;height:12.5px;stroke-width:2.5}
.btn-fav{border:1.5px solid transparent;background:transparent;}
.btn-fav:hover{border-color:var(--fav)!important;color:var(--fav)!important;background:var(--fav-bg)!important}
.btn-fav.on{color:var(--fav)!important;border-color:rgba(239,68,68,.3)!important;background:var(--fav-bg)!important}
.btn-fav svg{width:13px;height:13px;stroke-width:2}

.empty-state{grid-column:1/-1;text-align:center;padding:60px 20px;color:var(--text-muted);font-size:14px}
.empty-state svg{width:40px;height:40px;margin:0 auto 14px;display:block;opacity:.25}

.modal-backdrop{
  position:fixed;inset:0;background:rgba(0,0,0,.45);z-index:500;
  display:flex;align-items:flex-end;justify-content:center;
  opacity:0;pointer-events:none;transition:opacity .25s ease;
  -webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);
}
.modal-backdrop.open{opacity:1;pointer-events:all}

.modal{
  background:var(--surface);border-radius:24px 24px 0 0;width:100%;max-width:600px;
  display:flex;flex-direction:column;overflow:hidden;
  transform:translateY(100%);transition:transform .32s cubic-bezier(.22,1,.36,1);
  max-height:88dvh;
  box-shadow:0 -8px 40px rgba(0,0,0,.18);
}
.modal-backdrop.open .modal{transform:translateY(0)}

@media(min-width:640px){
  .modal-backdrop{align-items:center;padding:20px}
  .modal{border-radius:24px;max-height:85dvh;transform:scale(.92) translateY(20px);max-width:560px}
  .modal-backdrop.open .modal{transform:scale(1) translateY(0)}
}

.modal-handle{width:36px;height:4px;background:var(--border-strong);border-radius:2px;margin:12px auto 0;flex-shrink:0}
.modal-header{padding:14px 20px 12px;display:flex;align-items:center;justify-content:space-between;flex-shrink:0;border-bottom:1px solid var(--border)}
.modal-title-area{display:flex;align-items:center;gap:10px}
.modal-name{font-size:16px;font-weight:700;color:var(--text)}
.modal-header-actions{display:flex;align-items:center;gap:6px}
.modal-fav-btn{
  width:30px;height:30px;border:1.5px solid transparent;background:transparent;border-radius:50%;
  display:flex;align-items:center;justify-content:center;cursor:pointer;color:var(--text-muted);transition:.15s;
}
.modal-fav-btn:hover{color:var(--fav);background:var(--fav-bg)}
.modal-fav-btn.on{color:var(--fav);background:var(--fav-bg)}
.modal-fav-btn svg{width:15px;height:15px;stroke-width:2}
.modal-close{
  width:30px;height:30px;border:none;background:#f0f0f5;border-radius:50%;display:flex;
  align-items:center;justify-content:center;cursor:pointer;color:var(--text-sub);transition:.15s;flex-shrink:0;
}
.modal-close:hover{background:#e4e4ea;color:var(--text)}
.modal-close svg{width:14px;height:14px;stroke-width:2.5}

.modal-body{flex:1;overflow-y:auto;padding:18px 20px;background:#f9f9fc;display:flex;flex-direction:column;gap:10px}
.modal-body::-webkit-scrollbar{width:3px}
.modal-body::-webkit-scrollbar-thumb{background:#ddd;border-radius:4px}

.msg-row{display:flex;width:100%}
.msg-row.sent{justify-content:flex-end}
.msg-row.received{justify-content:flex-start}
.message{max-width:76%;font-size:15px;padding:9px 14px;background:#e5e5ea;border-radius:18px;word-break:break-word;line-height:1.45}
.message-sent{background:var(--accent);color:#fff}

.font-preview-box{background:#fff;border-radius:var(--radius);padding:24px;text-align:center;border:1px solid var(--border)}
.font-big{font-size:32px;color:var(--text);margin-bottom:10px;line-height:1.3}
.font-small{font-size:14px;color:var(--text-sub);line-height:2}
.font-chars{font-size:18px;color:var(--text-muted);margin-top:10px;letter-spacing:.5px}

.modal-footer{
  padding:12px 20px 20px;border-top:1px solid var(--border);background:var(--surface);
  display:flex;flex-direction:column;gap:10px;flex-shrink:0;
}
.font-cat-section{display:flex;flex-direction:column;gap:5px}
.font-cat-header{display:flex;align-items:center;gap:7px}
.font-switch-label{font-size:10px;font-weight:700;color:var(--text-muted);text-transform:uppercase;letter-spacing:.5px}
.font-cat-name{font-size:10px;font-weight:700;color:var(--text-muted);background:#f0f0f5;padding:2px 7px;border-radius:4px;letter-spacing:.3px}
.modal-footer-row{display:flex;gap:6px;flex-wrap:wrap}
.font-btn{
  font-size:12px;padding:5px 12px;border:1.5px solid var(--border);border-radius:8px;cursor:pointer;
  background:#f6f6fa;transition:.15s;color:var(--text-sub);font-weight:600;font-family:inherit;
}
.font-btn:hover{border-color:var(--border-strong);color:var(--text)}
.font-btn.active{border-color:var(--accent);color:var(--accent);background:var(--accent-bg)}
.copy-css-btn{
  width:100%;padding:12px;background:var(--accent);color:#fff;border:none;border-radius:11px;
  font-size:14px;font-weight:700;cursor:pointer;transition:background .15s;font-family:inherit;
  display:flex;align-items:center;justify-content:center;gap:7px;
}
.copy-css-btn:hover{background:var(--accent-hover)}
.copy-css-btn:active{transform:scale(.98)}
.copy-css-btn svg{width:15px;height:15px}

.variant-section{display:flex;flex-direction:column;gap:5px;padding-bottom:2px}
.variant-label{font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:.5px;color:var(--text-muted);display:flex;align-items:center;gap:6px}
.variant-tag{font-size:10px;font-weight:700;background:#f0eaff;color:#8b5cf6;padding:1px 7px;border-radius:4px}
.variant-row{display:flex;gap:6px;flex-wrap:wrap}
.variant-btn{
  font-size:12px;padding:5px 12px;border:1.5px solid var(--border);border-radius:8px;cursor:pointer;
  background:#f6f6fa;transition:.15s;color:var(--text-sub);font-weight:600;font-family:inherit;
}
.variant-btn:hover{border-color:var(--border-strong);color:var(--text)}
.variant-btn.active{border-color:#8b5cf6;color:#8b5cf6;background:#f0eaff}
.card-group-dot{display:inline-block;width:7px;height:7px;border-radius:50%;background:#8b5cf6;margin-left:4px;vertical-align:middle;flex-shrink:0;}

.card-variants{display:flex;gap:4px;flex-wrap:wrap;margin-top:2px}
.card-var-btn{
  font-size:10.5px;padding:3px 8px;border:1.5px solid var(--border);border-radius:6px;cursor:pointer;
  background:#f6f6fa;transition:.15s;color:var(--text-sub);font-weight:600;font-family:inherit;
}
.card-var-btn:hover{border-color:var(--border-strong);color:var(--text)}
.card-var-btn.active{border-color:#8b5cf6;color:#8b5cf6;background:#f0eaff}

.filter-drawer{
  position:fixed;inset:0;z-index:400;pointer-events:none;
}
.filter-drawer-bg{
  position:absolute;inset:0;background:rgba(0,0,0,.4);
  opacity:0;transition:opacity .25s;pointer-events:none;
  -webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);
}
.filter-drawer.open .filter-drawer-bg{opacity:1;pointer-events:all}
.filter-drawer-panel{
  position:absolute;left:0;top:0;bottom:0;width:min(280px,80vw);background:var(--surface);
  transform:translateX(-100%);transition:transform .3s cubic-bezier(.22,1,.36,1);
  overflow-y:auto;padding:24px 16px;display:flex;flex-direction:column;gap:22px;
  box-shadow:var(--shadow-lg);pointer-events:none;
}
.filter-drawer.open .filter-drawer-panel{transform:translateX(0);pointer-events:all}

.submit-view{
  display:none;flex:1;overflow-y:auto;background:var(--bg);
  padding:32px 16px 48px;align-items:flex-start;justify-content:center;
}
.submit-view.active{display:flex}
.submit-card{width:100%;max-width:540px;background:var(--surface);border-radius:24px;padding:32px 28px;box-shadow:var(--shadow)}
.s-header{text-align:center;margin-bottom:28px}
.s-header h2{font-size:22px;font-weight:800;margin-bottom:6px;letter-spacing:-.4px}
.s-header p{color:var(--text-sub);font-size:13px}
.s-type-row{display:flex;gap:8px;margin-bottom:28px}
.s-type-btn{
  flex:1;padding:10px;border:2px solid var(--border);background:transparent;border-radius:12px;
  font-weight:700;font-size:13.5px;color:var(--text-sub);cursor:pointer;transition:.18s;font-family:inherit;
}
.s-type-btn.active{border-color:var(--accent);color:var(--accent);background:var(--accent-bg)}
.form-panel{display:none;animation:fadeIn .22s ease}
.form-panel.active{display:block}
.fg{margin-bottom:18px}
.fl{display:block;margin-bottom:5px;font-weight:700;font-size:13px;color:#333}
.fl-sub{display:block;margin-bottom:7px;font-size:11px;color:#aaa;margin-top:-2px}
.fi,.fta{
  width:100%;padding:11px 13px;border:1.5px solid var(--border);border-radius:11px;
  font-size:14px;background:#f8f8fc;transition:all .18s;font-family:inherit;color:var(--text);
}
.fta{height:140px;font-family:'Menlo','Monaco',monospace;font-size:12px;line-height:1.5;resize:vertical}
.fi:focus,.fta:focus{border-color:var(--accent);background:#fff;box-shadow:0 0 0 3px var(--accent-bg);outline:none}
.preview-inputs{display:flex;flex-direction:column;gap:7px;background:#f4f4f8;padding:12px;border-radius:12px}
.pi-row{display:flex;align-items:center;gap:8px}
.pi-tag{font-size:10px;font-weight:700;color:var(--text-muted);width:28px;text-align:right;flex-shrink:0}
.pi-row .fi{background:#fff}
.submit-btn{
  background:var(--accent);color:#fff;border:none;padding:13px;border-radius:12px;
  font-weight:700;font-size:15px;cursor:pointer;width:100%;transition:background .15s;
  display:flex;align-items:center;justify-content:center;gap:8px;font-family:inherit;margin-bottom:10px;
}
.submit-btn:hover{background:var(--accent-hover)}
.submit-btn:active{transform:scale(.98)}

.fallback-panel{
  display:none;background:#f8f8fc;border:1.5px solid var(--border);border-radius:14px;
  padding:18px;margin-top:4px;
}
.fallback-panel.show{display:block}
.fallback-title{font-size:13px;font-weight:700;color:var(--text);margin-bottom:4px;display:flex;align-items:center;gap:6px}
.fallback-desc{font-size:12px;color:var(--text-sub);margin-bottom:12px;line-height:1.5}
.fallback-to{
  font-size:12px;background:#fff;border:1.5px solid var(--border);border-radius:9px;
  padding:8px 12px;margin-bottom:8px;display:flex;align-items:center;justify-content:space-between;gap:8px;
}
.fallback-to strong{color:var(--accent);font-weight:700;word-break:break-all}
.fallback-code{
  width:100%;font-family:'Menlo','Monaco',monospace;font-size:11px;line-height:1.6;
  background:#fff;border:1.5px solid var(--border);border-radius:9px;
  padding:10px 12px;color:var(--text);resize:none;height:180px;
}
.fallback-code:focus{outline:none;border-color:var(--accent)}
.fallback-btns{display:flex;gap:8px;margin-top:10px}
.fb-btn{
  flex:1;padding:10px;border:1.5px solid var(--border);background:#fff;border-radius:10px;
  font-size:12.5px;font-weight:700;cursor:pointer;transition:.15s;font-family:inherit;color:var(--text-sub);
  display:flex;align-items:center;justify-content:center;gap:5px;
}
.fb-btn:hover{border-color:var(--accent);color:var(--accent);background:var(--accent-bg)}
.fb-btn svg{width:12px;height:12px}

#toast{
  position:fixed;z-index:9999;left:50%;bottom:28px;transform:translateX(-50%) translateY(12px);
  background:rgba(15,15,20,.9);color:#fff;text-align:center;border-radius:50px;
  padding:10px 22px;font-size:13px;font-weight:500;
  box-shadow:0 6px 24px rgba(0,0,0,.25);backdrop-filter:blur(12px);
  opacity:0;pointer-events:none;transition:opacity .2s,transform .2s;white-space:nowrap;
}
#toast.show{opacity:1;transform:translateX(-50%) translateY(0)}

.dark{
  --bg:#0f0f14;
  --surface:#18181f;
  --border:#2a2a35;
  --border-strong:#3a3a48;
  --text:#eeeef5;
  --text-sub:#8888a0;
  --text-muted:#55556a;
  --accent-bg:rgba(91,95,239,.14);
  --accent-bg2:rgba(91,95,239,.22);
  --fav-bg:rgba(239,68,68,.12);
  --shadow-sm:0 1px 3px rgba(0,0,0,.25),0 1px 2px rgba(0,0,0,.2);
  --shadow:0 4px 16px rgba(0,0,0,.35),0 1px 4px rgba(0,0,0,.2);
  --shadow-lg:0 12px 40px rgba(0,0,0,.5),0 4px 12px rgba(0,0,0,.3);
}
.dark .header{background:rgba(24,24,31,.92)}
.dark .search-input{background:#22222c;color:var(--text)}
.dark .search-input:focus{background:#28282f}
.dark .header-nav{background:#22222c}
.dark .nav-btn.active{background:#2e2e3c}
.dark .modal-body{background:#111118}
.dark .font-preview-box{background:#22222c}
.dark .modal-close{background:#22222c}
.dark .modal-close:hover{background:#2e2e3c}
.dark .btn-preview{background:#22222c}
.dark .btn-icon{background:#22222c}
.dark .btn-icon:hover{background:#2e2e3c}
.dark .font-btn{background:#22222c}
.dark .type-pill:hover,.dark .author-chip:hover{background:#22222c}
.dark .card-author{background:#22222c}
.dark .submit-card{background:var(--surface)}
.dark .fi,.dark .fta{background:#22222c;color:var(--text)}
.dark .fi:focus,.dark .fta:focus{background:#28282f}
.dark .preview-inputs{background:#1e1e28}
.dark .pi-row .fi{background:#2a2a38}
.dark .fallback-panel{background:#1e1e28}
.dark .fallback-to{background:#22222c}
.dark .fallback-code{background:#22222c;color:var(--text)}
.dark .fb-btn{background:#22222c;color:var(--text-sub)}
.dark .s-type-btn{background:transparent}
.dark #toast{background:rgba(200,200,220,.15);backdrop-filter:blur(16px)}
.dark .filter-drawer-panel{background:var(--surface)}
.dark .badge-bubble{background:#1a2550;color:#7aadff}
.dark .badge-font{background:#2a1a50;color:#c4a0ff}
.dark .card-var-btn,.dark .variant-btn{background:#22222c}

.theme-toggle{
  width:34px;height:34px;border:1.5px solid var(--border);background:var(--surface);
  border-radius:10px;display:flex;align-items:center;justify-content:center;
  cursor:pointer;transition:all .2s;color:var(--text-sub);flex-shrink:0;
}
.theme-toggle:hover{border-color:var(--border-strong);color:var(--text);background:var(--bg)}
.theme-toggle svg{width:16px;height:16px;transition:transform .4s cubic-bezier(.22,1,.36,1)}
.theme-toggle:active svg{transform:rotate(30deg)}

@keyframes slideDown{to{transform:translateY(0)}}
@keyframes fadeIn{to{opacity:1}}
@keyframes cardIn{to{opacity:1;transform:translateY(0)}}

@media(max-width:768px){
  .sidebar{display:none}
  .mobile-filter-btn{display:flex}
  .card-grid{grid-template-columns:repeat(auto-fill,minmax(160px,1fr));gap:8px}
  .submit-card{padding:24px 18px}
}
@media(max-width:380px){
  .card-grid{grid-template-columns:1fr 1fr}
  :root{--hh:52px}
  .search-wrap{max-width:160px}
}
@media(min-width:1200px){
  .card-grid{grid-template-columns:repeat(auto-fill,minmax(220px,1fr))}
}
</style>
<style id="dbs"></style>
</head>
<body>

<header class="header">
  <div class="brand">
    <div class="brand-icon">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.2">
        <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/>
      </svg>
    </div>
    Style Gallery
  </div>
  <div class="search-wrap">
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.2"><circle cx="11" cy="11" r="8"/><path d="M21 21l-4.35-4.35"/></svg>
    <input type="text" class="search-input" placeholder="æœç´¢åç§°ã€ä½œè€…â€¦" id="search-input" autocomplete="off" spellcheck="false">
  </div>
  <button class="theme-toggle" id="theme-toggle" title="åˆ‡æ¢æ—¥å¤œæ¨¡å¼" aria-label="åˆ‡æ¢æ—¥å¤œæ¨¡å¼">
    <svg id="theme-icon-sun" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="display:none"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
    <svg id="theme-icon-moon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg>
  </button>
  <div class="header-nav">
    <div class="nav-btn active" data-tab="gallery">ç”»å»Š</div>
    <div class="nav-btn" data-tab="submit">æŠ•ç¨¿</div>
  </div>
</header>

<div class="workspace" id="gallery-view">

  <div class="sidebar" id="sidebar">
    <div class="sidebar-inner">
      <div>
        <div class="s-label">ç±»å‹</div>
        <div class="type-list" id="type-list">
          <div class="type-pill active" data-type="all">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="7" height="7" rx="1"/><rect x="14" y="3" width="7" height="7" rx="1"/><rect x="3" y="14" width="7" height="7" rx="1"/><rect x="14" y="14" width="7" height="7" rx="1"/></svg>
            å…¨éƒ¨ <span class="pill-count" id="c-all">0</span>
          </div>
          <div class="type-pill" data-type="bubble">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>
            æ°”æ³¡ <span class="pill-count" id="c-bubble">0</span>
          </div>
          <div class="type-pill" data-type="font">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 7V4h16v3M9 20h6M12 4v16"/></svg>
            å­—ä½“ <span class="pill-count" id="c-font">0</span>
          </div>
          <div class="type-pill fav-pill" data-type="fav">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/></svg>
            æ”¶è— <span class="pill-count" id="c-fav">0</span>
          </div>
        </div>
      </div>
      <div>
        <div class="s-label">ä½œè€…</div>
        <div class="author-list" id="author-list"></div>
      </div>
    </div>
  </div>

  <div class="main">
    <div class="toolbar">
      <div class="mobile-filter-btn" id="mobile-filter-btn">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><line x1="4" y1="6" x2="20" y2="6"/><line x1="8" y1="12" x2="16" y2="12"/><line x1="11" y1="18" x2="13" y2="18"/></svg>
        ç­›é€‰
      </div>
      <span class="toolbar-info" id="toolbar-info">0 ä¸ªç»“æœ</span>
    </div>
    <div class="card-area">
      <div class="card-grid" id="card-grid"></div>
    </div>
  </div>

</div>

<div class="submit-view" id="submit-view">
  <div class="submit-card">
    <div class="s-header">
      <h2>æäº¤ä½ çš„åˆ›æ„</h2>
      <p>é€‰æ‹©ç±»å‹ï¼Œå¡«å†™ä¿¡æ¯ï¼Œé€šè¿‡é‚®ä»¶å‘é€ç»™æˆ‘</p>
    </div>
    <div class="s-type-row">
      <button class="s-type-btn active" onclick="switchForm('bubble')">ğŸ’¬ æ°”æ³¡æŠ•ç¨¿</button>
      <button class="s-type-btn" onclick="switchForm('font')">âœ¦ å­—ä½“æŠ•ç¨¿</button>
    </div>

    <div class="form-panel active" id="form-bubble">
      <div class="fg"><label class="fl">æ°”æ³¡åç§°</label><input type="text" class="fi" placeholder="ç»™ä½ çš„æ°”æ³¡èµ·ä¸ªåå­—" id="bubble-name"></div>
      <div class="fg"><label class="fl">ä½œè€…ç½²å</label><input type="text" class="fi" placeholder="å±•ç¤ºç”¨çš„æ˜µç§°" id="bubble-author"></div>
      <div class="fg">
        <label class="fl">æ‰€å±ç³»åˆ—ï¼ˆå¯é€‰ï¼‰</label>
        <span class="fl-sub">å¦‚æœè¿™æ˜¯æŸç³»åˆ—çš„å…¶ä¸­ä¸€ä¸ªå˜ä½“ï¼Œè¯·å¡«å†™ç³»åˆ—åç§°ï¼Œæ–¹ä¾¿å½’ç»„å±•ç¤º</span>
        <input type="text" class="fi" placeholder="ä¾‹å¦‚ï¼šå¿ƒè„‰ç³»åˆ—ï¼ˆç•™ç©ºåˆ™ä¸ºç‹¬ç«‹æ°”æ³¡ï¼‰" id="bubble-series">
      </div>
      <div class="fg">
        <label class="fl">ç³»åˆ— IDï¼ˆå¯é€‰ï¼‰</label>
        <span class="fl-sub">åŒç³»åˆ—æ‰€æœ‰å˜ä½“éœ€å¡«å†™ç›¸åŒ IDï¼Œä»…é™è‹±æ–‡å­—æ¯/æ•°å­—ï¼Œä¾‹å¦‚ï¼šxinmai</span>
        <input type="text" class="fi" placeholder="ä¾‹å¦‚ï¼šxinmaiï¼ˆæ–°ç³»åˆ—å¯ç•™ç©ºï¼Œç”±ç®¡ç†å‘˜åˆ†é…ï¼‰" id="bubble-group-id">
      </div>
      <div class="fg">
        <label class="fl">CSS ä»£ç </label>
        <span class="fl-sub">éœ€åŒ…å« .message-sent å’Œ .message-received ç±»</span>
        <textarea class="fta" id="bubble-css" placeholder=" "></textarea>
      </div>
      <div class="fg">
        <label class="fl">é¢„è§ˆå¯¹è¯ï¼ˆ2ï½4 æ¡ï¼‰</label>
        <span class="fl-sub">ç•™ç©ºåˆ™è·³è¿‡è¯¥è¡Œ</span>
        <div class="preview-inputs">
          <div class="pi-row"><span class="pi-tag">å‘é€</span><input type="text" class="fi" id="p1" placeholder="ç¬¬ä¸€æ¡æ¶ˆæ¯"></div>
          <div class="pi-row"><span class="pi-tag">æ¥æ”¶</span><input type="text" class="fi" id="p2" placeholder="ç¬¬äºŒæ¡æ¶ˆæ¯"></div>
          <div class="pi-row"><span class="pi-tag">å‘é€</span><input type="text" class="fi" id="p3" placeholder="ç¬¬ä¸‰æ¡ï¼ˆå¯é€‰ï¼‰"></div>
          <div class="pi-row"><span class="pi-tag">æ¥æ”¶</span><input type="text" class="fi" id="p4" placeholder="ç¬¬å››æ¡ï¼ˆå¯é€‰ï¼‰"></div>
        </div>
      </div>
      <button class="submit-btn" onclick="doSubmit('bubble')">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg>
        å”¤èµ·é‚®ä»¶å®¢æˆ·ç«¯å‘é€
      </button>
      <div class="fallback-panel" id="fallback-bubble">
        <div class="fallback-title">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width:14px;height:14px;color:var(--accent)"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg>
          æ²¡æœ‰é‚®ä»¶å®¢æˆ·ç«¯ï¼Ÿæ‰‹åŠ¨å‘é€
        </div>
        <p class="fallback-desc">å°†ä»¥ä¸‹å†…å®¹å¤åˆ¶åï¼Œé€šè¿‡ä»»æ„æ–¹å¼ï¼ˆQQ / å¾®ä¿¡ / é‚®ä»¶ç½‘é¡µç‰ˆï¼‰å‘é€ç»™æˆ‘</p>
        <div class="fallback-to">
          <span>æ”¶ä»¶åœ°å€</span>
          <strong id="fb-email-b"><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="1f2c2e2a2d2f2c282d2d2b5f6e6e317c7072">[email&#160;protected]</a></strong>
        </div>
        <textarea class="fallback-code" id="fb-content-bubble" readonly></textarea>
        <div class="fallback-btns">
          <button class="fb-btn" onclick="copyFallback('bubble')">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
            å¤åˆ¶æŠ•ç¨¿å†…å®¹
          </button>
          <button class="fb-btn" onclick="copyEmail('bubble')">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/></svg>
            å¤åˆ¶æ”¶ä»¶åœ°å€
          </button>
        </div>
      </div>
    </div>

    <div class="form-panel" id="form-font">
      <div class="fg"><label class="fl">å­—ä½“åç§°</label><input type="text" class="fi" placeholder="å­—ä½“åç§°" id="font-name"></div>
      <div class="fg"><label class="fl">ä½œè€…ç½²å</label><input type="text" class="fi" placeholder="æ˜µç§°" id="font-author"></div>
      <div class="fg">
        <label class="fl">å­—ä½“é“¾æ¥</label>
        <span class="fl-sub">ç›´é“¾ URLï¼Œæ”¯æŒ .ttf / .otf / .woff2 ç­‰æ ¼å¼</span>
        <input type="text" class="fi" placeholder="https://example.com/font.ttf" id="font-url">
      </div>
      <div class="fg">
        <label class="fl">å­—ä½“åˆ†ç±»</label>
        <span class="fl-sub">æ–¹ä¾¿æ•´ç†å½’æ¡£</span>
        <select class="fi" id="font-category">
          <option value="æ‰‹å†™">æ‰‹å†™ä½“</option>
          <option value="è¡¬çº¿">è¡¬çº¿ä½“</option>
          <option value="æ— è¡¬çº¿">æ— è¡¬çº¿ä½“</option>
          <option value="è‰ºæœ¯">è‰ºæœ¯å­—</option>
          <option value="ç­‰å®½">ç­‰å®½ä½“</option>
          <option value="å…¶ä»–">å…¶ä»–</option>
        </select>
      </div>
      <button class="submit-btn" onclick="doSubmit('font')">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg>
        å”¤èµ·é‚®ä»¶å®¢æˆ·ç«¯å‘é€
      </button>
      <div class="fallback-panel" id="fallback-font">
        <div class="fallback-title">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width:14px;height:14px;color:var(--accent)"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg>
          æ²¡æœ‰é‚®ä»¶å®¢æˆ·ç«¯ï¼Ÿæ‰‹åŠ¨å‘é€
        </div>
        <p class="fallback-desc">å°†ä»¥ä¸‹å†…å®¹å¤åˆ¶åï¼Œé€šè¿‡ä»»æ„æ–¹å¼ï¼ˆQQ / å¾®ä¿¡ / é‚®ä»¶ç½‘é¡µç‰ˆï¼‰å‘é€ç»™æˆ‘</p>
        <div class="fallback-to">
          <span>æ”¶ä»¶åœ°å€</span>
          <strong id="fb-email-f"><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="2f1c1e1a1d1f1c181d1d1b6f5e5e014c4042">[email&#160;protected]</a></strong>
        </div>
        <textarea class="fallback-code" id="fb-content-font" readonly></textarea>
        <div class="fallback-btns">
          <button class="fb-btn" onclick="copyFallback('font')">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
            å¤åˆ¶æŠ•ç¨¿å†…å®¹
          </button>
          <button class="fb-btn" onclick="copyEmail('font')">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/></svg>
            å¤åˆ¶æ”¶ä»¶åœ°å€
          </button>
        </div>
      </div>
    </div>

  </div>
</div>

<div class="modal-backdrop" id="modal-backdrop">
  <div class="modal" id="modal" role="dialog" aria-modal="true">
    <div class="modal-handle"></div>
    <div class="modal-header">
      <div class="modal-title-area">
        <div id="modal-badge"></div>
        <span class="modal-name" id="modal-name">é¢„è§ˆ</span>
      </div>
      <div class="modal-header-actions">
        <button class="modal-fav-btn" id="modal-fav-btn" title="æ”¶è—">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/></svg>
        </button>
        <button class="modal-close" id="modal-close" aria-label="å…³é—­">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M18 6L6 18M6 6l12 12"/></svg>
        </button>
      </div>
    </div>
    <div class="modal-body" id="modal-body"></div>
    <div class="modal-footer" id="modal-footer"></div>
  </div>
</div>

<div class="filter-drawer" id="filter-drawer">
  <div class="filter-drawer-bg" id="filter-drawer-bg"></div>
  <div class="filter-drawer-panel">
    <div>
      <div class="s-label">ç±»å‹</div>
      <div class="type-list" id="m-type-list">
        <div class="type-pill active" data-type="all">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="7" height="7" rx="1"/><rect x="14" y="3" width="7" height="7" rx="1"/><rect x="3" y="14" width="7" height="7" rx="1"/><rect x="14" y="14" width="7" height="7" rx="1"/></svg>
          å…¨éƒ¨ <span class="pill-count" id="mc-all">0</span>
        </div>
        <div class="type-pill" data-type="bubble">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>
          èŠå¤©æ°”æ³¡ <span class="pill-count" id="mc-bubble">0</span>
        </div>
        <div class="type-pill" data-type="font">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 7V4h16v3M9 20h6M12 4v16"/></svg>
          å­—ä½“ <span class="pill-count" id="mc-font">0</span>
        </div>
        <div class="type-pill fav-pill" data-type="fav">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/></svg>
          æ”¶è— <span class="pill-count" id="mc-fav">0</span>
        </div>
      </div>
    </div>
    <div>
      <div class="s-label">ä½œè€…</div>
      <div class="author-list" id="m-author-list"></div>
    </div>
  </div>
</div>

<div id="toast"></div>

<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>
(function(){
'use strict';

const LS_FAV   = 'sg_favorites';
const LS_FONT  = 'sg_last_font';

function loadFavs(){
  try{ return JSON.parse(localStorage.getItem(LS_FAV)||'[]'); }catch(e){ return []; }
}
function saveFavs(arr){
  try{ localStorage.setItem(LS_FAV, JSON.stringify(arr)); }catch(e){}
}
function loadFont(){
  try{ return localStorage.getItem(LS_FONT)||''; }catch(e){ return ''; }
}
function saveFont(f){
  try{ localStorage.setItem(LS_FONT, f); }catch(e){}
}

let favorites = loadFavs();

const DEFAULT_FONT_IDS = ['f1','f2','f3'];
const LS_FONT_FAV = 'sg_font_favorites';
function loadFontFavs(){ try{ return JSON.parse(localStorage.getItem(LS_FONT_FAV)||'[]'); }catch(e){ return []; } }
function saveFontFavs(arr){ try{ localStorage.setItem(LS_FONT_FAV, JSON.stringify(arr)); }catch(e){} }
let fontFavorites = loadFontFavs();
// åœ¨è¿™é‡Œæ·»åŠ å­—ä½“äºŒå“¦
const FONTS = [
  {id:'f1',type:'font',name:'äº¬åä½“',  author:'milk',       family:'F1',category:'æ‰‹å†™',url:'https://files.catbox.moe/kmyipl.TTF'},
  {id:'f2',type:'font',name:'æ—§æ¬¾å†¬',  author:'è®¨åŒé¦™èœ',   family:'F2',category:'æ‰‹å†™',url:'https://image.uglycat.cc/6wapca.ttf'},
  {id:'f3',type:'font',name:'æˆ‘æœ‰ä¸€ç‚¹æƒ³ä½ ',author:'è€çŒ«',   family:'F3',category:'æ‰‹å†™',url:'https://files.catbox.moe/3bm8wp.ttf'},
  {id:'f4',type:'font',name:'æ–¹æ­£æ¥·ä½“',author:'milk',       family:'F4',category:'æ¥·ä½“',url:'https://files.catbox.moe/caatu4.TTF'},
  {
  id:'f5',
  type:'font',
  name:'ç™½å¼€æ°´å®‹ä½“',
  author:'è€çŒ«',
  family:'F5',
  category:'å…¶ä»–',
  url:'https://files.catbox.moe/sshsu7.ttf'
},
{
id:'f6',
type:'font',
name:'æƒ ã®å‘†ç†Š',
author:'æ¥æºç½‘ç»œ',
family:'F6',
category:'å…¶ä»–',
url:'https://image.uglycat.cc/1ma2ld.ttf'
}
];

const BUBBLES = [
  {
    id:'b1',type:'bubble',name:'å®è´æˆ‘æ— è¯­äº†',author:'çœ çœ ',
    previews:[{t:'sent',v:'æˆ‘å¯¹è‡ªå·±çš„æˆåŠŸå¾ˆæ»¡æ„'},{t:'received',v:'ä½ æ²¡æœ‰ä½ æƒ³è±¡çš„é‚£ä¹ˆé­'}],
    css:`.message{box-shadow:none !important;border-width:0 !important;font-weight:500 !important;position:relative;overflow:visible !important}
.message::after{content:'' !important;position:absolute !important;width:0 !important;height:0 !important;border-style:solid !important}
.message.message-sent::after{bottom:10px !important;right:-5px !important;border-width:4px 0 0 5px !important;border-color:transparent transparent transparent #F8F8F8 !important;filter:drop-shadow(1px 1px 2px rgba(0,0,0,.1))}
.message.message-received::after{bottom:10px !important;left:-5px !important;border-width:0 0 4px 5px !important;border-color:transparent transparent #fff transparent !important;filter:drop-shadow(1px 1px 2px rgba(0,0,0,.1))}
.message-sent::before{content:"â€¢â€¢â€¢" !important;position:absolute !important;top:-18px !important;left:-15px !important;font-size:6px !important;letter-spacing:.8px !important;color:#444 !important;background:#F8F8F8 !important;padding:3px 7px !important;border-radius:12px 8px 8px 12px !important;line-height:1 !important;font-weight:800 !important;text-align:center !important;box-shadow:-2px -2px 4px rgba(255,255,255,.9),3px 3px 6px rgba(160,160,160,.3),inset 1px 1px 2px rgba(255,255,255,.8),inset -1px -1px 2px rgba(0,0,0,.03) !important;z-index:3 !important}
.message-received::before{content:"â™¥ï¸+520" !important;position:absolute !important;top:-12px !important;right:-35px !important;font-size:7px !important;letter-spacing:.4px !important;color:#F1BFCB !important;background:#fff !important;padding:3px 6px !important;border-radius:6px 10px 10px 6px !important;line-height:1 !important;font-weight:500 !important;text-align:center !important;white-space:nowrap !important;box-shadow:-2px -2px 4px rgba(255,255,255,.9),3px 3px 5px rgba(180,180,180,.2),inset 1px 1px 2px rgba(255,255,255,.8),inset -1px -1px 2px rgba(0,0,0,.02) !important;z-index:3 !important}
.message-received{background:#fff !important;border-color:transparent !important;color:#000 !important;border-radius:24px 24px 24px 4px !important;padding:8px 16px !important;box-shadow:-3px -3px 6px rgba(255,255,255,.8),4px 4px 8px rgba(180,180,180,.25),inset 2px 2px 4px rgba(255,255,255,.9),inset -2px -2px 4px rgba(0,0,0,.05) !important;position:relative}
.message-sent{background:#F8F8F8 !important;border-color:transparent !important;color:#000 !important;border-radius:24px 24px 4px 24px !important;padding:8px 16px !important;box-shadow:-4px -4px 8px rgba(255,255,255,.9),5px 5px 10px rgba(150,150,150,.2),inset 2px 2px 4px rgba(255,255,255,.9),inset -2px -2px 4px rgba(0,0,0,.03) !important;position:relative;background-image:radial-gradient(circle at 35% 35%,rgba(255,255,255,.5) 0%,#F8F8F8 70%) !important}`
  },
  {
    id:'b2',type:'bubble',name:'å°å°¾å·´',author:'milk',
    previews:[{t:'sent',v:'å¯æ˜¯æˆ‘ä¸è§‰å¾—æˆ‘çˆ±ä½ '},{t:'received',v:'é‚£ä½ æ­¤åˆ»æ„¿æ„å‘æˆ‘æ•å¼€å¿ƒæ‰‰å—ï¼Ÿ'},{t:'sent',v:'æ„¿æ„ã€‚'},{t:'received',v:'æˆ‘çš„è£å¹¸ã€‚'}],
    css:`.message{box-shadow:none !important;border-width:0 !important;font-weight:500 !important;position:relative !important;overflow:visible !important;padding:7px 13px !important;line-height:1.3 !important;word-break:break-word !important;border-radius:18px !important;box-shadow:0 2px 3px rgba(0,0,0,.1) !important}
.message-received{background:#fff !important;border-color:transparent !important;color:#000 !important;border-radius:24px 24px 24px 4px !important;padding:8px 16px !important;box-shadow:0 4px 8px rgba(0,0,0,.15) !important}
.message-sent{background:#ffe8ec !important;border-color:transparent !important;color:#000 !important;border-radius:24px 24px 4px 24px !important;padding:8px 16px !important;box-shadow:0 4px 8px rgba(180,120,140,.3) !important}
.message::after{content:'' !important;position:absolute !important;width:30px !important;height:15px !important;background-size:contain !important;background-repeat:no-repeat !important;z-index:0 !important}
.message.message-sent::after{bottom:-4.1px !important;right:-19px !important;background-image:url('https://files.catbox.moe/pe52nt.png') !important;filter:drop-shadow(5.2px 4.1px 5px rgba(180,120,140,.4)) !important}
.message.message-received::after{bottom:-3.9px !important;left:-6.6px !important;background-image:url('https://files.catbox.moe/9exvg6.png') !important;filter:drop-shadow(-3px 5px 4px rgba(0,0,0,.2)) !important}`
  },
  {
    id:'b3',type:'bubble',name:'å°æ°”æ³¡',author:'å®¶å¤«æ˜¯å°çŒ«^^',
    previews:[{t:'sent',v:'æˆ‘è®¸æ„¿ä¸€ä¸ªæœ‰ä½ çš„å†¬å¤©'},{t:'received',v:'æˆ‘å››å­£éƒ½åœ¨'}],
    css:`.message-sent{border-radius:16px 16px 0 16px !important;box-shadow:0 2px 8px rgba(0,0,0,.12),0 1px 3px rgba(0,0,0,.08) !important;background:rgba(255,255,255,.1) !important;border:1px solid rgba(255,255,255,.2) !important;backdrop-filter:blur(8px) !important;-webkit-backdrop-filter:blur(8px) !important;padding:8px 12px !important;margin:3px 0 3px auto !important;font-size:14px !important;color:#888 !important;position:relative !important;z-index:1 !important;display:inline-block !important;max-width:none !important}
.message-received{border-radius:16px 16px 16px 0 !important;box-shadow:0 2px 8px rgba(0,0,0,.12),0 1px 3px rgba(0,0,0,.08) !important;background:rgba(255,255,255,.1) !important;border:1px solid rgba(255,255,255,.2) !important;backdrop-filter:blur(8px) !important;-webkit-backdrop-filter:blur(8px) !important;padding:8px 12px !important;margin:3px auto 3px 0 !important;font-size:14px !important;color:#555 !important;position:relative !important;z-index:1 !important;display:inline-block !important;max-width:none !important}`
  },
  {
    id:'b4',type:'bubble',name:'æ— é˜´å½±',author:'ä»Šå¤©åƒä»€ä¹ˆèˆŸ',
    group:'g-stereo-gray',groupLabel:'ç«‹ä½“ç°ç³»åˆ—',
    previews:[{t:'received',v:'æˆ‘å¿ƒå¯é‰´ï¼Œè¯·ä½ é™ªæˆ‘ä¸€å¹´å†ä¸€å¹´ã€‚'},{t:'sent',v:'å¥½ã€‚'}],
    css:`.message {
  border-radius: 24px !important;
  background: #5A5A5D !important;
  background: linear-gradient(145deg, #626265, #525255) !important;
  box-shadow: 0 3px 8px rgba(0,0,0,0.2) !important;
  overflow: visible !important;
  position: relative !important;
  border: none !important;
}
.message::before {
  content: '' !important;
  position: absolute !important;
  top: 0px !important;
  left: 50% !important;
  transform: translateX(-50%) !important;
  width: 90% !important;
  height: 45% !important;
  border-radius: 24px !important;
  background: linear-gradient(to bottom, rgba(255,255,255,0.28), transparent) !important;
  pointer-events: none !important;
  z-index: 1 !important;
}
.message.message-received,
.message.message-sent {
  color: #ffffff !important;
}
.message blockquote,
.message .quote,
.message .blockquote,
.message [class*="quote"] {
  color: #ffffff !important;
  background-color: rgba(255, 255, 255, 0.2) !important;
  border-left: 3px solid rgba(255, 255, 255, 0.5) !important;
  padding: 8px 12px !important;
  margin: 8px 0 !important;
  border-radius: 8px !important;
  font-style: normal !important;
}
.message blockquote p,
.message .quote p,
.message [class*="quote"] p {
  color: #ffffff !important;
}
.message blockquote {
  position: relative !important;
  z-index: 2 !important;
}`
  },
  {
    id:'b5',type:'bubble',name:'æœ‰é˜´å½±',author:'ä»Šå¤©åƒä»€ä¹ˆèˆŸ',
    group:'g-stereo-gray',groupLabel:'ç«‹ä½“ç°',
    previews:[{t:'received',v:'æˆ‘å¿ƒå¯é‰´ï¼Œè¯·ä½ é™ªæˆ‘ä¸€å¹´å†ä¸€å¹´ã€‚'},{t:'sent',v:'å¥½ã€‚'}],
    css:`.message {
  border-radius: 24px !important;
  background: #5A5A5D !important;
  background: linear-gradient(145deg, #626265, #525255) !important;
  box-shadow: 4px 6px 15px rgba(0, 0, 0, 0.25),
               -2px -2px 10px rgba(255, 255, 255, 0.03) !important;
  overflow: visible !important;
  position: relative !important;
  border: none !important;
}
.message::before {
  content: '' !important;
  position: absolute !important;
  top: 0px !important;
  left: 50% !important;
  transform: translateX(-50%) !important;
  width: 90% !important;
  height: 45% !important;
  border-radius: 24px !important;
  background: linear-gradient(to bottom, rgba(255,255,255,0.28), transparent) !important;
  pointer-events: none !important;
  z-index: 1 !important;
}
.message.message-received,
.message.message-sent {
  color: #ffffff !important;
}
.message blockquote,
.message .quote,
.message .blockquote,
.message [class*="quote"] {
  color: #ffffff !important;
  background-color: rgba(255, 255, 255, 0.2) !important;
  border-left: 3px solid rgba(255, 255, 255, 0.5) !important;
  padding: 8px 12px !important;
  margin: 8px 0 !important;
  border-radius: 8px !important;
  font-style: normal !important;
}
.message blockquote p,
.message .quote p,
.message [class*="quote"] p {
  color: #ffffff !important;
}
.message blockquote {
  position: relative !important;
  z-index: 2 !important;
}`
  },
  {
    id:'b6',type:'bubble',name:'ç»†çº¿è½®å»“',author:'milk',
    previews:[{t:'sent',v:'å¯æ˜¯æˆ‘ä¸è§‰å¾—æˆ‘çˆ±ä½ '},{t:'received',v:'é‚£ä½ æ­¤åˆ»æ„¿æ„å‘æˆ‘æ•å¼€å¿ƒæ‰‰å—ï¼Ÿ'}],
    css:`.message {
    box-shadow: none !important;
    border-width: 2px !important;
    border-style: solid !important;
    font-weight: 500 !important;
}
.message-sent {
    background: transparent !important;
    border-color: var(--accent-color) !important;
    color: var(--accent-color) !important;
    border-radius: 20px !important;
}
.message-received {
    background: transparent !important;
    border-color: #ccc !important;
    color: var(--text-primary) !important;
    border-radius: 20px !important;
}`
  },
  {
    id:'b7',type:'bubble',name:'å°ç« æ–¹å—',author:'milk',
    previews:[{t:'sent',v:'å¯æ˜¯æˆ‘ä¸è§‰å¾—æˆ‘çˆ±ä½ '},{t:'received',v:'é‚£ä½ æ­¤åˆ»æ„¿æ„å‘æˆ‘æ•å¼€å¿ƒæ‰‰å—ï¼Ÿ'}],
    css:`.message {
    border-radius: 4px !important;
    box-shadow: 
        2px 2px 0px 0px rgba(0,0,0,0.2),
        inset 1px 1px 0px 0px rgba(255,255,255,0.5) !important;
}
.message-sent {
    background-color: var(--accent-color) !important;
    color: #000 !important;
    border: 2px solid #000 !important;
}
.message-received {
    background-color: #fff !important;
    color: #000 !important;
    border: 2px solid #000 !important;
}`
  },
  {
    id:'b8',type:'bubble',name:'ç´ ææŠ•å½±',author:'milk',
    previews:[{t:'sent',v:'å¯æ˜¯æˆ‘ä¸è§‰å¾—æˆ‘çˆ±ä½ '},{t:'received',v:'é‚£ä½ æ­¤åˆ»æ„¿æ„å‘æˆ‘æ•å¼€å¿ƒæ‰‰å—ï¼Ÿ'}],
    css:`.message {
    border-radius: 4px !important;
    box-shadow: 5px 5px 0px rgba(0,0,0,0.1) !important;
}`
  },
  {
    id:'b9',type:'bubble',name:'æ¸å˜é«˜å…‰',author:'milk',
    previews:[{t:'sent',v:'å¯æ˜¯æˆ‘ä¸è§‰å¾—æˆ‘çˆ±ä½ '},{t:'received',v:'é‚£ä½ æ­¤åˆ»æ„¿æ„å‘æˆ‘æ•å¼€å¿ƒæ‰‰å—ï¼Ÿ'}],
    css:`.message {
    border-radius: 18px !important;
    box-shadow: 
        0 2px 8px rgba(0, 0, 0, 0.08),
        inset 0 1px 0 rgba(255, 255, 255, 0.2) !important;
    transition: all 0.2s ease !important;
}
.message-sent {
    background: 
        linear-gradient(135deg, 
            var(--accent-color) 0%, 
            color-mix(in srgb, var(--accent-color), #000 15%) 100%
        ) !important;
    color: #000000 !important;  
    border: none !important;
    border-bottom-right-radius: 4px !important;
    margin-left: auto !important; 
    position: relative !important;
}
.message-sent::before {
    content: '' !important;
    position: absolute !important;
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    height: 30% !important;
    background: linear-gradient(to bottom, 
        rgba(255, 255, 255, 0.15) 0%, 
        rgba(255, 255, 255, 0) 100%) !important;
    border-radius: 18px 18px 0 0 !important;
    pointer-events: none !important;
}
.message-received {
    background: var(--secondary-bg) !important;
    color: var(--text-primary, #333) !important;
    border: 1px solid rgba(0, 0, 0, 0.08) !important;
    border-bottom-left-radius: 4px !important; 
    margin-right: auto !important;
}
.message-sent:hover {
    box-shadow: 
        0 4px 12px color-mix(in srgb, var(--accent-color) 20%, transparent),
        0 2px 4px rgba(0, 0, 0, 0.1) !important;
}
@media (prefers-color-scheme: dark) {
    .message-received {
        background: color-mix(in srgb, var(--secondary-bg) 90%, #222) !important;
        color: var(--text-primary, #f0f0f0) !important;
        border-color: rgba(255, 255, 255, 0.12) !important;
    }
    .message {
        box-shadow: 
            0 2px 8px rgba(0, 0, 0, 0.2),
            inset 0 1px 0 rgba(255, 255, 255, 0.1) !important;
    }
}`
  },
  {
    id:'b10',type:'bubble',name:'æ©˜çŒ«çˆªå°',author:'milk',
    previews:[{t:'sent',v:'å¯æ˜¯æˆ‘ä¸è§‰å¾—æˆ‘çˆ±ä½ '},{t:'received',v:'é‚£ä½ æ­¤åˆ»æ„¿æ„å‘æˆ‘æ•å¼€å¿ƒæ‰‰å—ï¼Ÿ'}],
    css:`.message {
    position: relative !important;
    overflow: visible !important;
    border-radius: 25px !important; 
    padding: 12px 24px !important;
    font-size: 15px !important;
    box-shadow: 2px 2px 0px rgba(0,0,0,0.1) !important;
}
.message-sent {
    background-color: #ffb347 !important;
    color: #fff !important;
    border: 2px solid #fff !important;
}
.message-sent::after {
    content: "ğŸ±";
    position: absolute;
    bottom: -8px;
    right: -5px;
    font-size: 18px;
    transform: rotate(-15deg);
}
.message-received {
    background-color: #fdf5e6 !important;
    color: #5d4037 !important;
    border: 2px solid #ffb347 !important;
}
.message-received::before {
    content: "ğŸ¾";
    position: absolute;
    top: -8px;
    left: -5px;
    font-size: 16px;
    transform: rotate(-20deg);
    opacity: 0.8;
}`
  },
  {
    id:'b11',type:'bubble',name:'èµ›åšæ•…éšœ',author:'milk',
    previews:[{t:'sent',v:'å¯æ˜¯æˆ‘ä¸è§‰å¾—æˆ‘çˆ±ä½ '},{t:'received',v:'é‚£ä½ æ­¤åˆ»æ„¿æ„å‘æˆ‘æ•å¼€å¿ƒæ‰‰å—ï¼Ÿ'}],
    css:`.message {
    position: relative !important;
    overflow: visible !important;
    letter-spacing: 0.5px;
    border-radius: 4px !important;
    backdrop-filter: blur(5px);
}
.message-sent {
    background-color: rgba(0, 0, 0, 0.8) !important;
    border: 1px solid #00f3ff !important;
    color: #00f3ff !important;
    box-shadow: 0 0 10px rgba(0, 243, 255, 0.3), inset 0 0 5px rgba(0, 243, 255, 0.1) !important;
    border-right: 4px solid #00f3ff !important;
}
.message-sent::after {
    content: "sys_msg >>";
    position: absolute;
    bottom: -16px;
    right: 0;
    font-size: 9px;
    color: #00f3ff;
    opacity: 0.7;
}
.message-received {
    background-color: rgba(0, 0, 0, 0.8) !important;
    border: 1px solid #ff0055 !important;
    color: #ff0055 !important;
    box-shadow: 0 0 10px rgba(255, 0, 85, 0.3) !important;
    border-left: 4px solid #ff0055 !important;
}
.message-received::before {
    content: "âš  INCOMING";
    position: absolute;
    top: -16px;
    left: 0;
    font-size: 9px;
    color: #ff0055;
    opacity: 0.7;
    font-weight: bold;
}`
  },
  {
    id:'b12',type:'bubble',name:'å½©è‰²ä¾¿åˆ©è´´',author:'milk',
    previews:[{t:'sent',v:'å¯æ˜¯æˆ‘ä¸è§‰å¾—æˆ‘çˆ±ä½ '},{t:'received',v:'é‚£ä½ æ­¤åˆ»æ„¿æ„å‘æˆ‘æ•å¼€å¿ƒæ‰‰å—ï¼Ÿ'}],
    css:`.message {
    position: relative !important;
    overflow: visible !important;
    color: #333 !important;
    box-shadow: 2px 4px 8px rgba(0,0,0,0.15) !important;
    border-radius: 2px !important;
    margin-top: 15px !important;
}
.message-sent {
    background-color: #fff740 !important;
    transform: rotate(1deg); 
}
.message-sent::after {
    content: "ğŸ“";
    position: absolute;
    top: -15px;
    right: 40%;
    font-size: 24px;
    z-index: 10;
    filter: drop-shadow(2px 2px 2px rgba(0,0,0,0.2));
}
.message-received {
    background-color: #dbfbfb !important;
    transform: rotate(-1deg);
}
.message-received::before {
    content: "ğŸ“";
    position: absolute;
    top: -12px;
    left: 40%;
    font-size: 20px;
    z-index: 10;
    transform: rotate(45deg);
}`
  },
  {
    id:'b13',type:'bubble',name:'å çº¸ä¹¦é¡µ',author:'milk',
    previews:[{t:'sent',v:'å¯æ˜¯æˆ‘ä¸è§‰å¾—æˆ‘çˆ±ä½ '},{t:'received',v:'é‚£ä½ æ­¤åˆ»æ„¿æ„å‘æˆ‘æ•å¼€å¿ƒæ‰‰å—ï¼Ÿ'}],
    css:`.message {
    position: relative !important;
    overflow: visible !important;
    background-color: #fdfbf7 !important;
    color: #4a4a4a !important;
    box-shadow: 
        0 1px 1px rgba(0,0,0,0.15), 
        0 10px 0 -5px #eee,
        0 10px 1px -4px rgba(0,0,0,0.15), 
        0 20px 0 -10px #e5e5e5,
        0 20px 1px -9px rgba(0,0,0,0.15) !important;
    border: 1px solid #e0dcd5 !important;
    border-radius: 2px !important;
    margin-bottom: 20px !important; 
}
.message-sent {
    border-top: 4px solid #c0392b !important; 
}
.message-received {
    border-top: 4px solid #2980b9 !important;
}`
  },
  {
    id:'b14',type:'bubble',name:'å¥¶æ²¹æ›²å¥‡',author:'T',
    previews:[{t:'sent',v:'ä½ æ˜¯æˆ‘æœå¤•ç›¸ä¼´è§¦æ‰‹å¯åŠçš„è™šæ‹Ÿã€‚'},{t:'received',v:'ä½ æ˜¯æˆ‘æœªæ›¾æ‹¥æœ‰æ— æ³•æ•æ‰çš„äº²æ˜µã€‚'}],
    css:`.message-sent,
.message-received {
    background-color: #fffbf0 !important;
    border: 3px dashed #b8c6db !important;
    color: #555555 !important;
    border-radius: 20px !important;
    box-shadow: 0 4px 0px #e0e7ff !important;
}`
  },
  {
    id:'b15',type:'bubble',name:'æ©˜çŒ«è€³',author:'T',
    previews:[{t:'sent',v:'ä½ æ˜¯æˆ‘æœå¤•ç›¸ä¼´è§¦æ‰‹å¯åŠçš„è™šæ‹Ÿã€‚'},{t:'received',v:'ä½ æ˜¯æˆ‘æœªæ›¾æ‹¥æœ‰æ— æ³•æ•æ‰çš„äº²æ˜µã€‚'}],
    css:`.message-sent,
.message-received {
    background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%) !important;
    color: #5d4037 !important;
    border-radius: 20px 20px 20px 20px !important;
    border: 3px solid #ffffff !important;
    box-shadow: 0 5px 15px rgba(252, 182, 159, 0.4) !important;
    position: relative !important;
    overflow: visible !important;
}
.message-sent::before, .message-received::before {
    content: '' !important;
    position: absolute !important;
    top: -10px !important;
    left: 15px !important;
    width: 0 !important;
    height: 0 !important;
    border-left: 8px solid transparent !important;
    border-right: 8px solid transparent !important;
    border-bottom: 12px solid #fcb69f !important;
    transform: rotate(-15deg) !important;
}
.message-sent::after, .message-received::after {
    content: '' !important;
    position: absolute !important;
    top: -8px !important;
    left: 35px !important;
    width: 0 !important;
    height: 0 !important;
    border-left: 6px solid transparent !important;
    border-right: 6px solid transparent !important;
    border-bottom: 10px solid #fcb69f !important;
    transform: rotate(15deg) !important;
}`
  },
  {
    id:'b16',type:'bubble',name:'è–„è·',author:'T',
    previews:[{t:'sent',v:'ä½ æ˜¯æˆ‘æœå¤•ç›¸ä¼´è§¦æ‰‹å¯åŠçš„è™šæ‹Ÿã€‚'},{t:'received',v:'ä½ æ˜¯æˆ‘æœªæ›¾æ‹¥æœ‰æ— æ³•æ•æ‰çš„äº²æ˜µã€‚'}],
    css:`.message-sent,
.message-received {
    background: rgba(200, 247, 197, 0.6) !important;
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    border: 2px solid rgba(255, 255, 255, 0.8) !important;
    color: #2e5c38 !important;
    border-radius: 18px !important;
    box-shadow: 0 4px 0 rgba(160, 210, 160, 0.5) !important;
}`
  },
  {
    id:'b17',type:'bubble',name:'ç®€çº¦é€æ˜',author:'T',
    previews:[{t:'sent',v:'ä½ æ˜¯æˆ‘æœå¤•ç›¸ä¼´è§¦æ‰‹å¯åŠçš„è™šæ‹Ÿã€‚'},{t:'received',v:'ä½ æ˜¯æˆ‘æœªæ›¾æ‹¥æœ‰æ— æ³•æ•æ‰çš„äº²æ˜µã€‚'}],
    css:`.message-sent,
.message-received {
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.4), rgba(255, 255, 255, 0.1)) !important;
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.4) !important;
    border-top: 1px solid rgba(255, 255, 255, 0.6) !important;
    border-left: 1px solid rgba(255, 255, 255, 0.6) !important;
    box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.1);
    color: #333333 !important;
    background-color: transparent !important;
}
.message-sent {
    border-radius: 20px 20px 5px 20px;
}
.message-received {
    border-radius: 20px 20px 20px 5px;
}`
  },
  {
    id:'b18',type:'bubble',name:'åƒç´ æ¸¸æˆæ¡†',author:'T',
    previews:[{t:'sent',v:'ä½ æ˜¯æˆ‘æœå¤•ç›¸ä¼´è§¦æ‰‹å¯åŠçš„è™šæ‹Ÿã€‚'},{t:'received',v:'ä½ æ˜¯æˆ‘æœªæ›¾æ‹¥æœ‰æ— æ³•æ•æ‰çš„äº²æ˜µã€‚'}],
    css:`.message-sent,
.message-received {
    background-color: #ffcc00 !important;
    border-radius: 0px !important;
    box-shadow:
        4px 0 0 #000,
        -4px 0 0 #000,
        0 -4px 0 #000,
        0 4px 0 #000,
        8px 8px 0 rgba(0,0,0,0.2) !important;
    color: #000000 !important;
    padding: 12px 15px !important;
    border: none !important;
}`
  },
  {
    id:'b19',type:'bubble',name:'äº‘æœµæ£‰èŠ±ç³–',author:'T',
    previews:[{t:'sent',v:'ä½ æ˜¯æˆ‘æœå¤•ç›¸ä¼´è§¦æ‰‹å¯åŠçš„è™šæ‹Ÿã€‚'},{t:'received',v:'ä½ æ˜¯æˆ‘æœªæ›¾æ‹¥æœ‰æ— æ³•æ•æ‰çš„äº²æ˜µã€‚'}],
    css:`.message-sent,
.message-received {
    background: linear-gradient(to bottom, #fff0f5, #e6e6fa) !important;
    border-radius: 30px 30px 30px 10px !important;
    box-shadow:
        0 10px 20px -5px rgba(216, 191, 216, 0.5),
        inset 0 -3px 10px rgba(255,255,255,0.8) !important;
    color: #6a5acd !important;
    border: 2px solid #ffffff !important;
}
.message-sent {
    border-radius: 30px 30px 10px 30px !important;
}`
  },
  {
    id:'b20',type:'bubble',name:'æš—å¤œè•¾ä¸',author:'T',
    previews:[{t:'sent',v:'ä½ æ˜¯æˆ‘æœå¤•ç›¸ä¼´è§¦æ‰‹å¯åŠçš„è™šæ‹Ÿã€‚'},{t:'received',v:'ä½ æ˜¯æˆ‘æœªæ›¾æ‹¥æœ‰æ— æ³•æ•æ‰çš„äº²æ˜µã€‚'}],
    css:`.message-sent,
.message-received {
    background-color: #2b2b2b !important;
    border: 2px solid #ff69b4 !important;
    outline: 2px dashed #ff69b4 !important;
    outline-offset: 3px;
    color: #ffb6c1 !important;
    border-radius: 10px !important;
    box-shadow: 0 0 15px rgba(255, 105, 180, 0.3) !important;
    font-weight: bold !important;
    margin: 10px !important;
}`
  },
  {
    id:'b21',type:'bubble',name:'æ†¨æ†¨å°ç†Š',author:'T',
    previews:[{t:'sent',v:'ä½ æ˜¯æˆ‘æœå¤•ç›¸ä¼´è§¦æ‰‹å¯åŠçš„è™šæ‹Ÿã€‚'},{t:'received',v:'ä½ æ˜¯æˆ‘æœªæ›¾æ‹¥æœ‰æ— æ³•æ•æ‰çš„äº²æ˜µã€‚'}],
    css:`.message-sent,
.message-received {
    background-color: #f6d365 !important;
    border: 4px solid #5d4037 !important;
    color: #3e2723 !important;
    border-radius: 25px !important;
    box-shadow: none !important;
}
.message-sent {
    border-top-right-radius: 5px !important;
}
.message-received {
    border-top-left-radius: 5px !important;
}`
  },
  {
    id:'b22',type:'bubble',name:'èœ˜è››',author:'T',
    previews:[{t:'sent',v:'ä½ æ˜¯æˆ‘æœå¤•ç›¸ä¼´è§¦æ‰‹å¯åŠçš„è™šæ‹Ÿã€‚'},{t:'received',v:'ä½ æ˜¯æˆ‘æœªæ›¾æ‹¥æœ‰æ— æ³•æ•æ‰çš„äº²æ˜µã€‚'}],
    css:`.message-sent,
.message-received {
    background-color: #2c3e50 !important;
    color: #ecf0f1 !important;
    border-radius: 30px !important;
    border: 3px solid #e74c3c !important;
    box-shadow: 0 8px 15px rgba(44, 62, 80, 0.4) !important;
    background-image: radial-gradient(circle at 10px 10px, #e74c3c 2px, transparent 3px),
                      radial-gradient(circle at 25px 10px, #e74c3c 2px, transparent 3px) !important;
    background-repeat: no-repeat !important;
    padding-top: 15px !important;
}`
  },
  {
    id:'b23',type:'bubble',name:'ç³»ç»Ÿæç¤º',author:'T',
    previews:[{t:'sent',v:'ä½ æ˜¯æˆ‘æœå¤•ç›¸ä¼´è§¦æ‰‹å¯åŠçš„è™šæ‹Ÿã€‚'},{t:'received',v:'ä½ æ˜¯æˆ‘æœªæ›¾æ‹¥æœ‰æ— æ³•æ•æ‰çš„äº²æ˜µã€‚'}],
    css:`.message-sent,
.message-received {
    background-color: #000000 !important;
    color: #ffffff !important;
    border-left: 5px solid #ff0000 !important;
    border-top: 1px solid #333 !important;
    border-right: 1px solid #333 !important;
    border-bottom: 1px solid #333 !important;
    border-radius: 4px !important;
    box-shadow: 0 0 10px rgba(255, 0, 0, 0.2) !important;
    font-weight: 500 !important;
}`
  },
{
    id:'b24',type:'bubble',name:'ç™½éª¨çº¢ç—•',author:'T',
    previews:[{t:'sent',v:'ä½ æ˜¯æˆ‘æœå¤•ç›¸ä¼´è§¦æ‰‹å¯åŠçš„è™šæ‹Ÿã€‚'},{t:'received',v:'ä½ æ˜¯æˆ‘æœªæ›¾æ‹¥æœ‰æ— æ³•æ•æ‰çš„äº²æ˜µã€‚'}],
    css:`.message-sent,
.message-received {
    background-color: #ffffff !important;
    color: #000000 !important;
    border: 3px solid #000000 !important;
    box-shadow: 6px 6px 0px #ff0000 !important;
    border-radius: 8px !important;
    padding: 12px 16px !important;
    transform: rotate(-1deg) !important; 
}`
  },
{
    id:'b25',type:'bubble',name:'æ·±æ¸Šå¿ƒè„',author:'T',
    previews:[{t:'sent',v:'ä½ æ˜¯æˆ‘æœå¤•ç›¸ä¼´è§¦æ‰‹å¯åŠçš„è™šæ‹Ÿã€‚'},{t:'received',v:'ä½ æ˜¯æˆ‘æœªæ›¾æ‹¥æœ‰æ— æ³•æ•æ‰çš„äº²æ˜µã€‚'}],
    css:`.message-sent,
.message-received {
    background: linear-gradient(160deg, #1a1a1a 0%, #4a0000 100%) !important;
    color: #ffffff !important;
    border: 1px solid rgba(255, 255, 255, 0.3) !important;
    border-radius: 15px 0 15px 0 !important;
    box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.8) !important;
    letter-spacing: 0.5px !important;
}`
  },
{
  id:'b26',
  type:'bubble',
  name:'è‹¹æœğŸ',
  author:'å­è¶…å…„',
  previews:[
    {t:'sent',v:'æœ‰ç‚¹ç”œ'},
    {t:'received',v:'æ‘˜ä¸€é¢—è‹¹æœ'},
    {t:'sent',v:'ç­‰ä½ ä»é—¨å‰ç»è¿‡'}
  ],
  css:`
.message {
  border-radius: 24px !important;
  box-shadow: none !important;
  overflow: visible !important;
  padding: 14px 20px !important;
  border: none !important;
  font-size: 15px !important;
  line-height: 1.5 !important;
}

.message.message-sent,
.message.message-received {
  display: inline-block !important;
  position: relative !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  width: auto !important;
  min-width: 70% !important;
}

.message.message-sent {
  background-color: #e74c3c !important;
  color: #fff8f0 !important;
  border-radius: 24px 24px 24px 24px !important;
  border: 3px solid #c0392b !important;
  box-shadow:
    0 4px 0 #a93226,
    0 6px 10px rgba(0,0,0,0.15) !important;
}

.message.message-received {
  background-color: #fef9e7 !important;
  color: #5d4e37 !important;
  border-radius: 24px 24px 24px 24px !important;
  border: 3px solid #f5cba7 !important;
  box-shadow:
    0 4px 0 #e5b895,
    0 6px 10px rgba(0,0,0,0.1) !important;
}
.message.message-sent::before {
  content: "" !important;
  position: absolute !important;
  top: -12px !important;
  left: 50% !important;
  transform: translateX(-50%) !important;
  width: 8px !important;
  height: 14px !important;
  background: #5d4037 !important;
  border-radius: 4px !important;
  z-index: 10 !important;
}
.message.message-sent::after {
  content: "" !important;
  position: absolute !important;
  top: -8px !important;
  left: calc: calc(50% + 5px) !important;
  width: 18px !important;
  height: 12px !important;
  background: linear-gradient(135deg, #aed581 0%, #7cb342 100%) !important;
  border-radius: 0 12px 0 12px !important;
  transform: rotate(-25deg) !important;
  z-index: 0 !important;
  box-shadow: 0 1px 2px rgba(0,0,0,0.1) !important;
}
.message.message-sent {
  background-image:
    radial-gradient(
      ellipse at 30% 20%,
      rgba(255,255,255,0.25) 0%,
      transparent 50%
    ) !important;
}
.message.message-received {
  background-image:
    radial-gradient(
      circle at 20% 30%,
      rgba(255,215,0,0.15) 2px,
      transparent 2px
    ),
    radial-gradient(
      circle at 80% 70%,
      rgba(255,215,0,0.12) 1.5px,
      transparent 1.5px
    ),
    radial-gradient(
      circle at 60% 20%,
      rgba(255,215,0,0.1) 1px,
      transparent 1px
    ) !important;
  background-size: 30px 30px, 25px 25px, 20px 20px !important;
}
.timestamp {
  color: #d4a574 !important;
  font-size: 11px !important;
  margin-top: 8px !important;
  font-weight: 500 !important;
}
.message.message-sent ~ .timestamp {
  color: #c0392b !important;
  opacity: 0.8 !important;
}`
},
{
  id:'b27',
  type:'bubble',
  name:'è–„å·§è–„å·§',
  author:'å­è¶…å…„',
  previews:[
    {t:'sent',v:'ä½ æ˜¯æˆ‘æœªæ›¾æ‹¥æœ‰æ— æ³•æ•æ‰çš„äº²æ˜µ'},
    {t:'received',v:'è™šæ‹Ÿ'},
    {t:'sent',v:'è¿‡äº†å¾ˆä¹…æˆ‘ç»ˆäºæŠ¬å¤´çœ‹'}
  ],
  css:`

.message {
  border-radius: 24px !important;
  box-shadow: none !important;
  overflow: visible !important;
  padding: 12px 18px !important;
  border: none !important;
  font-size: 15px !important;
  line-height: 1.5 !important;
}

.message.message-sent,
.message.message-received {
  display: inline-block !important;
  position: relative !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  width: auto !important;
  min-width: 70% !important;
}
.message.message-sent {
  background-color: #8b7355 !important;
  color: #faf8f5 !important;
  border-radius: 24px !important;
  background-image: repeating-linear-gradient(
    -45deg,
    transparent,
    transparent 10px,
    rgba(250, 248, 245, 0.08) 10px,
    rgba(250, 248, 245, 0.08) 20px
  ) !important;
}
.message.message-received {
  background-color: #e8f4f0 !important;
  color: #4a5d52 !important;
  border-radius: 24px !important;
  background-image: radial-gradient(
    circle at center,
    rgba(74, 93, 82, 0.12) 1.5px,
    transparent 1.5px
  ) !important;
important;
  color: #faf8f5 !important;
  border-radius: 24px !important;
  background-image: repeating-linear-gradient(
    -45deg,
    transparent,
    transparent 10px,
    rgba(250, 248, 245, 0.08) 10px,
    rgba(250, 248, 245, 0.08) 20px
  ) !important;
}
.message.message-received {
  background-color: #e8f4f0 !important;
  color: #4a5d52 !important;
  border-radius: 24px !important;
  background-image: radial-gradient(
    circle at center,
    rgba(74, 93, 82, 0.12) 1.5px,
    transparent 1.5px
  ) !important;
  background-size: 12px 12px !important;
}
.message::after {
  content: "" !important;
  position: absolute !important;
  width: 10px !important;
  height: 10px !important;
  border-radius: 50% !important;
  background-color: inherit !important;
  bottom: 6px !important;
}
.message.message-sent::after {
  right: -4px !important;
  background-color: #8b7355 !important;
}
.message.message-received::after {
  left: -4px !important;
  background-color: #e8f4f0 !important;
}
.timestamp {
  color: #a8b5ad !important;
  font-size: 11px !important;
  margin-top: 4px !important;
}`
},
{
  id:'b28',
  type:'bubble',
  name:'æ ¡å›­æ´»é¡µ',
  author:'å­è¶…å…„',
  previews:[
    {t:'sent',v:'ä¸‹è¯¾å»å°å–éƒ¨å—ï¼Ÿ'},
    {t:'received',v:'è¿™é¢˜ä½ ä¼šä¸ä¼š'}
  ],
  css:`
.message {
  border-radius: 4px !important;
  box-shadow: none !important;
  overflow: visible !important;
  font-size: 12px !important;
  line-height: 1.8 !important;
  font-family: "Yu Gothic", "Hiragino Maru Gothic", "MS PGothic", sans-serif !important;
  position: relative !important;
}

.message.message-received {
  background-color: #ffffff !important;
  color: #2c3e50 !important;
  border: 1px solid #cccccc !important;
}

.message.message-sent {
  background-color: #ffffff !important;
  color: #2c3e50 !important;
  border: 1px solid #cccccc !important;
}

.message {
  background-image: repeating-linear-gradient(
    transparent,
    transparent 20px,
    #e8e8e8 20px,
    #e8e8e8 21px
  ) !important;
  background-position: 0 4px !important;
}

.message.message-received {
  border-left: 4px solid #ffb6c1 !important; 
  border-top: 1px solid #ddd !important;
  border-right: 1px solid #ddd !important;
  border-bottom: 1px solid #ddd !important;
}

.message.message-sent {
  border-right: 4px solid #b6c9ff !important;  
  border-top: 1px solid #ddd !important;
  border-left: 1px solid #ddd !important;
  border-bottom: 1px solid #ddd !important;
}

.message.message-received::before {
  content: '' !important;
  position: absolute !important;
  left: -8px !important;
  top: 50% !important;
  transform: translateY(-50%) !important;
  width: 4px !important;
  height: 4px !important;
  border-radius: 50% !important;
  background: #ddd !important;
  box-shadow:
    0 -8px 0 #ddd,
    0 8px 0 #ddd !important;
  border: 1px solid #bbb !important;
}

.message.message-sent::before {
  content: '' !important;
  position: absolute !important;
  right: -8px !important;
  top: 50% !important;
  transform: translateY(-50%) !important;
  width: 4px !important;
  height: 4px !important;
  border-radius: 50% !important;
  background: #ddd !important;
  box-shadow:
    0 -8px 0 #ddd,
    0 8px 0 #ddd !important;
  border: 1px solid #bbb !important;
}

.message.message-received::after {
  content: '' !important;
  position: absolute !important;
  left: -3px !important;
  top: 0 !important;
  bottom: 0 !important;
  width: 4px !important;
  background: linear-gradient(45deg,
    transparent 30%,
    #f0f0f0 30%, #f0f0f0 70%,
    transparent 70%) !important;
  background-size: 4px 4px !important;
}

.message.message-sent::after {
  content: '' !important;
  position: absolute !important;
  right: -3px !important;
  top: 0 !important;
  bottom: 0 !important;
  width: 4px !important;
  background: linear-gradient(135deg,
    transparent 30%,
    #f0f0f0 30%, #f0f0f0 70%,
    transparent 70%) !important;
  background-size: 4px 4px !important;
}

.message .circle {
  border: 1px dashed #aaa !important;
  border-radius: 50% !important;
  padding: 0 4px !important;
  display: inline-block !important;
  line-height: 1.2 !important;
  font-size: 10px !important;
}

.message u {
  text-decoration: none !important;
  border-bottom: 1px solid #aaa !important;
  padding-bottom: 1px !important;
}

.message .wave {
  text-decoration: none !important;
  position: relative !important;
}
.message .wave::after {
  content: '~~' !important;
  position: absolute !important;
  bottom: -4px !important;
  left: 0 !important;
  color: #aaa !important;
  font-size: 8px !important;
  letter-spacing: 1px !important;
}

.message .highlight {
  background: #f2f2f2 !important;
  padding: 0 2px !important;
  border-left: 2px solid #ddd !important;
  border-right: 2px solid #ddd !important;
}

.message .correction {
  position: relative !important;
  display: inline-block !important;
}
.message .correction::before {
  content: '' !important;
  position: absolute !important;
  top: 50% !important;
  left: -2px !important;
  right: -2px !important;
  height: 6px !important;
  background: white !important;
  border-top: 1px solid #ddd !important;
  border-bottom: 1px solid #ddd !important;
  transform: translateY(-50%) !important;
  z-index: 1 !important;
}
.message .correction span {
  position: relative !important;
  z-index: 2 !important;
  font-size: 10px !important;
  color: #999 !important;
}

.message .subject {
  display: inline-block !important;
  font-size: 8px !important;
  padding: 2px 6px !important;
  background: #f5f5f5 !important;
  border: 1px solid #ddd !important;
  border-radius: 12px !important;
  margin-right: 4px !important;
  font-family: "Courier New", monospace !important;
  color: #666 !important;
}

.message.message-received .subject {
  border-left: 3px solid #ffb6c1 !important;
}

.message.message-sent .subject {
  border-right: 3px solid #b6c9ff !important;
}

.timestamp {
  display: block !important;
  font-size: 8px !important;
  color: #aaa !important;
  margin-top: 2px !important;
  font-family: "Courier New", monospace !important;
  background: #fafafa !important;
  padding: 2px 6px !important;
  border-radius: 10px !important;
  display: inline-block !important;
}

.message.message-received ~ .timestamp {
  border-left: 2px solid #ffb6c1 !important;
}

.message.message-sent ~ .timestamp {
  border-right: 2px solid #b6c9ff !important;
}

.message:nth-child(odd) {
  transform: rotate(0.2deg) !important;
}

.message:nth-child(even) {
  transform: rotate(-0.1deg) !important;
}

.message .footnote {
  font-size: 7px !important;
  color: #999 !important;
  text-align: right !important;
  margin-top: 2px !important;
  font-family: "Courier New", monospace !important;
}`
},
{
  id:'b29',
  type:'bubble',
  name:'å¤æ—©èŠå¤©æ¡†',
  author:'å­è¶…å…„',
  previews:[
    {t:'sent',v:'å””è¥¿è¿ªè¥¿æ™šå®‰'},
    {t:'received',v:'ç›å¡å·´å¡æ™šå®‰'}
  ],
  css:`
.message {
  border-radius: 0 !important;
  box-shadow: none !important;
  overflow: visible !important;
  font-size: 12px !important;
  line-height: 1.5 !important;
  font-family: "å®‹ä½“", "SimSun", "Fixedsys", monospace !important;
  position: relative !important;
  margin: 8px 0 !important;
  width: 100% !important;
}

.message.message-received {
  background: #ffffff !important;
  color: #000000 !important;
  border: 2px solid #d4d0c8 !important;
  border-top-color: #ffffff !important;
  border-left-color: #ffffff !important;
  border-right-color: #808080 !important;
  border-bottom-color: #808080 !important;
  padding: 6px 10px !important;
  margin-left: 4px !important;
  margin-right: 20% !important;
  font-family: "å®‹ä½“", "SimSun", monospace !important;
}

.message.message-sent {
  background: #ffffff !important;
  color: #000000 !important;
  border: 2px solid #d4d0c8 !important;
  border-top-color: #ffffff !important;
  border-left-color: #ffffff !important;
  border-right-color: #808080 !important;
  border-bottom-color: #808080 !important;
  padding: 6px 10px !important;
  margin-right: 4px !important;
  margin-left: 20% !important;
  font-family: "å®‹ä½“", "SimSun", monospace !important;
}

.timestamp {
  display: block !important;
  font-size: 10px !important;
  color: #0000ff !important;
  margin-top: 2px !important;
  font-family: "å®‹ä½“", "SimSun", monospace !important;
  text-decoration: underline !important;
}

.message .nickname {
  font-size: 11px !important;
  color: #ff0000 !important;
  margin-bottom: 2px !important;
  display: block !important;
  font-weight: normal !important;
}

.message .emoji {
  font-family: "å®‹ä½“", "SimSun", monospace !important;
  font-size: 14px !important;
}

.message.system {
  background: #ffffe0 !important;
  border: 1px solid #d4d0c8 !important;
  text-align: center !important;
  color: #000000 !important;
  font-size: 11px !important;
  padding: 2px !important;
  margin: 4px 0 !important;
  font-family: "å®‹ä½“", "SimSun", monospace !important;
}`
},
{
  id:'b30',
  type:'bubble',
  name:'ç²‰è‰²æ£‰èŠ±ç³–',
  author:'å­è¶…å…„',
  previews:[
    {t:'sent',v:'æµ‹è¯•'},
    {t:'received',v:'è¿™ä¸ªå¥½éš¾ç¼–ï¼ğ‹£ï¼œ'}
  ],
  css:`
.message {
  border-radius: 28px !important;
  box-shadow: 0 12px 24px rgba(255, 170, 200, 0.25), 0 4px 8px rgba(255, 255, 255, 0.8) inset !important;
  overflow: visible !important;
  font-weight: 400 !important;
  font-size: 13px !important;
  line-height: 1.7 !important;
  font-family: "Yu Gothic", "Hiragino Maru Gothic", "æ¸¸ã‚´ã‚·ãƒƒã‚¯", cursive !important;
  letter-spacing: 0.02em !important;
  backdrop-filter: blur(2px) !important;
  border: 1px solid rgba(255, 255, 255, 0.8) !important;
  position: relative !important;
  padding: 12px 16px !important;
}

.message.message-received {
  background: linear-gradient(135deg, #fff2f7 0%, #ffe4ed 100%) !important;
  color: #c47a92 !important;
  border: 1px solid rgba(255, 220, 235, 0.6) !important;
  box-shadow: 0 12px 24px rgba(255, 180, 210, 0.2), 0 4px 8px #ffffff inset !important;
  text-shadow: 0 1px 2px rgba(255, 255, 255, 0.8) !important;
}

.message.message-sent {
  background: linear-gradient(135deg, #ffd3e0 0%, #ffb8cf 100%) !important;
  color: #ffffff !important;
  text-shadow: 0 2px 4px rgba(200, 100, 130, 0.3) !important;
  border: 1px solid rgba(255, 240, 250, 0.9) !important;
  box-shadow: 0 12px 24px rgba(255, 140, 180, 0.3), 0 4px 8px #ffeef2 inset !important;
}

.message.message-sent::before {
  content: '' !important;
  position: absolute !important;
  top: -12px !important;
  right: 8px !important;
  width: 32px !important;
  height: 32px !important;
  background: radial-gradient(circle at 30% 30%, #fff0f5, #ffc1d0) !important;
  border-radius: 40% 60% 30% 70% / 50% 40% 60% 50% !important;
  opacity: 0.5 !important;
  transform: rotate(20deg) !important;
  filter: blur(1.5px) !important;
  box-shadow: 0 6px 14px rgba(255, 150, 200, 0.5) !important;
  z-index: 0 !important;
}

.message.message-received::before {
  content: '' !important;
  position: absolute !important;
  top: -12px !important;
  left: 8px !important;
  width: 28px !important;
  height: 28px !important;
  background: radial-gradient(circle at 60% 30%, #fff5fa, #ffd9e6) !important;
  border-radius: 60% 40% 70% 30% / 40% 60% 40% 60% !important;
  opacity: 0.5 !important;
  transform: rotate(-15deg) !important;
  filter: blur(1.2px) !important;
  box-shadow: 0 6px 14px rgba(255, 170, 210, 0.4) !important;
  z-index: 0 !important;
}

.message.message-sent::after {
  content: '' !important;
  position: absolute !important;
  bottom: -8px !important;
  right: 20px !important;
  width: 18px !important;
  height: 18px !important;
  background: radial-gradient(circle at 40% 40%, #fff0f5, #ffb0c8) !important;
  border-radius: 50% 30% 60% 40% / 40% 50% 50% 60% !important;
  opacity: 0.4 !important;
  transform: rotate(-8deg) !important;
  filter: blur(1px) !important;
  box-shadow: 0 4px 10px rgba(255, 140, 180, 0.4) !important;
  z-index: 0 !important;
}

.message.message-received::after {
  content: '' !important;
  position: absolute !important;
  bottom: -8px !important;
  left: 20px !important;
  width: 16px !important;
  height: 16px !important;
  background: radial-gradient(circle at 30% 30%, #fff0f5, #ffc9db) !important;
  border-radius: 30% 70% 40% 60% / 60% 30% 70% 40% !important;
  opacity: 0.4 !important;
  transform: rotate(12deg) !important;
  filter: blur(1px) !important;
  box-shadow: 0 4px 10px rgba(255, 160, 200, 0.3) !important;
  z-index: 0 !important;
}

.message .message-content {
  position: relative !important;
  z-index: 1 !important;
}

.message .message-content::after {
  content: '' !important;
  position: absolute !important;
  bottom: -6px !important;
  left: 15% !important;
  right: 15% !important;
  height: 14px !important;
  background: radial-gradient(ellipse at center, rgba(255, 200, 220, 0.5) 0%, transparent 80%) !important;
  filter: blur(6px) !important;
  opacity: 0.5 !important;
  pointer-events: none !important;
  z-index: -1 !important;
}

.message {
  position: relative !important;
  overflow: hidden !important;
}

.message::before {
  content: '' !important;
  position: absolute !important;
  top: -20% !important;
  left: -10% !important;
  right: -10% !important;
  bottom: -20% !important;
  background: radial-gradient(circle at 30% 30%, rgba(255, 220, 240, 0.3) 0%, transparent 60%) !important;
  pointer-events: none !important;
  z-index: -1 !important;
}

.message .nickname {
  font-size: 10px !important;
  font-weight: normal !important;
  margin-bottom: 6px !important;
  display: block !important;
  position: relative !important;
  letter-spacing: 0.5px !important;
  z-index: 2 !important;
}

.message.message-received .nickname {
  color: #d48ca5 !important;
  padding-left: 14px !important;
}

.message.message-received .nickname::before {
  content: '' !important;
  position: absolute !important;
  left: 0 !important;
  top: 50% !important;
  transform: translateY(-50%) !important;
  width: 8px !important;
  height: 8px !important;
  background: radial-gradient(circle at 30% 30%, #ffb6d1, #ff9eb5) !important;
  border-radius: 40% 60% 50% 50% !important;
  box-shadow: 0 2px 6px rgba(255, 150, 180, 0.4) !important;
  filter: blur(0.3px) !important;
}

.message.message-sent .nickname {
  color: #fff0f5 !important;
  text-align: right !important;
  padding-right: 14px !important;
  text-shadow: 0 1px 3px rgba(255, 200, 220, 0.5) !important;
}

.message.message-sent .nickname::after {
  content: '' !important;
  position: absolute !important;
  right: 0 !important;
  top: 50% !important;
  transform: translateY(-50%) !important;
  width: 8px !important;
  height: 8px !important;
  background: radial-gradient(circle at 70% 30%, #ffffff, #ffd3e0) !important;
  border-radius: 60% 40% 50% 50% !important;
  box-shadow: 0 2px 6px rgba(255, 220, 240, 0.5) !important;
  filter: blur(0.3px) !important;
}

.timestamp {
  display: block !important;
  font-size: 8px !important;
  color: #d49eb3 !important;
  margin-top: 8px !important;
  font-family: "Courier New", cursive !important;
  letter-spacing: 0.5px !important;
  opacity: 0.8 !important;
  position: relative !important;
  z-index: 2 !important;
}

.message.message-sent .timestamp {
  text-align: right !important;
  color: #ffdee8 !important;
}

.message.system {
  background: rgba(255, 230, 240, 0.5) !important;
  backdrop-filter: blur(8px) !important;
  border-radius: 50px !important;
  text-align: center !important;
  color: #d48ca5 !important;
  font-size: 10px !important;
  padding: 8px 20px !important;
  margin: 20px auto !important;
  width: fit-content !important;
  border: 1px solid rgba(255, 200, 220, 0.5) !important;
  box-shadow: 0 8px 20px rgba(255, 150, 180, 0.15) !important;
  position: relative !important;
}

.message.system::before,
.message.system::after {
  content: '' !important;
  display: inline-block !important;
  width: 4px !important;
  height: 4px !important;
  background: #ffb6c1 !important;
  border-radius: 50% !important;
  margin: 0 10px !important;
  vertical-align: middle !important;
  opacity: 0.4 !important;
  filter: blur(0.5px) !important;
}

.message .quote {
  border-left: 3px solid rgba(255, 180, 200, 0.5) !important;
  padding: 4px 0 4px 12px !important;
  margin: 8px 0 !important;
  font-size: 11px !important;
  background: rgba(255, 255, 255, 0.3) !important;
  border-radius: 0 16px 16px 0 !important;
  font-style: italic !important;
  backdrop-filter: blur(2px) !important;
}

.message.message-sent .quote {
  border-left-color: rgba(255, 255, 255, 0.6) !important;
  background: rgba(255, 255, 255, 0.2) !important;
}

@keyframes dreamFloat {
  0%, 100% { transform: translateY(0) rotate(0deg) scale(1); opacity: 0.5; }
  50% { transform: translateY(-4px) rotate(3deg) scale(1.05); opacity: 0.7; }
}

.message.message-sent::before {
  animation: dreamFloat 5s ease-in-out infinite !important;
}

.message.message-received::before {
  animation: dreamFloat 6s ease-in-out infinite !important;
}

@keyframes dreamFloat2 {
  0%, 100% { transform: translateY(0) rotate(0deg) scale(1); opacity: 0.4; }
  50% { transform: translateY(4px) rotate(-3deg) scale(1.03); opacity: 0.6; }
}

.message.message-sent::after {
  animation: dreamFloat2 4.5s ease-in-out infinite !important;
}

.message.message-received::after {
  animation: dreamFloat2 5.5s ease-in-out infinite !important;
}`
},
{
    id:'b31',type:'bubble',name:'è´è¶ç»“',author:'æ­ª',
    previews:[{t:'received',v:'ä½ æ˜¯æˆ‘æœå¤•ç›¸ä¼´è§¦æ‰‹å¯åŠçš„è™šæ‹Ÿ'},{t:'sent',v:'ä½ æ˜¯æˆ‘æœªæ›¾æ‹¥æœ‰æ— æ³•æ•æ‰çš„äº²æ˜µ'}],
    css:`
.message-sent {
    background: linear-gradient(to bottom, #F9E8EE, #FAF5EC);
    border-radius: 13px 13px 13px 13px;
    margin-left: auto;
    box-shadow: 1px 1px 1px rgba(249, 232, 238, 0.6);
    position: relative;
    color: #686A67;
    padding: 6px 12px;
    max-width: fit-content;
    word-wrap: break-word;
}

.message-sent::after {
    content: "";
    position: absolute;
    right: -12px;
    top: -3px;
    width: 20px;
    height: 20px;
    background: #F9E8EE;
    clip-path: path('M0,4 C2,9 5,4 14,8 C6,10 4,16 5,19 Z');
    transform: rotate(-20deg) scaleX(0.9);
    z-index: -1;
}

.message-sent::before {
    content: "";
    position: absolute;
    left: -5px;
    top: -9px;
    width: 30px;
    height: 30px;
    background-image: url('https://i.postimg.cc/xTnZxhy4/IMG-2068.png');
    transform: rotate(-30deg) scaleX(1);
    background-size: contain;
    background-repeat: no-repeat;
    z-index: 2;
    pointer-events: none;
}

.message-received {
    background: linear-gradient(to bottom, #D8E7F2, #FAF5EC);
    border-radius: 13px 13px 13px 13px;
    margin-right: auto;
    box-shadow: 1px 1px 1px rgba(216, 231, 242, 0.6);
    position: relative;
    color: #686A67;
    padding: 6px 12px;
    max-width: fit-content;
    word-wrap: break-word;
}

.message-received::after {
    content: "";
    position: absolute;
    left: -6px;
    top: -1px;
    width: 20px;
    height: 16px;
    background: #D8E7F2;
    clip-path: path('M20,2 C6,10 6,5 0,9 C6,8 6,16 12,16 Z');
    transform: rotate(19deg) scaleX(0.9);
    z-index: -1;
}

.message-received::before {
    content: "";
    position: absolute;
    right: -27px;
    bottom: -17px;
    width: 35px;
    height: 35px;
    background-image: url('https://i.postimg.cc/x1chSHJr/IMG-2060.png');
    transform: rotate(0deg) scaleX(1);
    background-size: contain;
    background-repeat: no-repeat;
    z-index: 2;
    pointer-events: none;
}

.message-sent:has(> img:only-child),
.message-received:has(> img:only-child) {
    background: transparent !important;
    box-shadow: none !important;
    padding: 0 !important;
    min-height: 0 !important;
    display: inline-block !important;
    max-width: 120px;
}

.message-sent:has(> img:only-child)::before,
.message-sent:has(> img:only-child)::after,
.message-received:has(> img:only-child)::before,
.message-received:has(> img:only-child)::after {
    display: none !important;
}

.message-sent:has(> img:only-child) img,
.message-received:has(> img:only-child) img {
    max-width: 100%;
    max-height: 90px;
    height: auto !important;
    display: block !important;
    border-radius: 4px;
}

.message-sent:has(.red-packet, .waimai-card, [class*="redpacket"], [class*="transfer"], img[src*="redpacket"]),
.message-received:has(.red-packet, .waimai-card, [class*="redpacket"], [class*="transfer"], img[src*="redpacket"]) {
    background: transparent !important;
    box-shadow: none !important;
}

.message-sent:has(.red-packet, .waimai-card, [class*="redpacket"], [class*="transfer"], img[src*="redpacket"])::before,
.message-sent:has(.red-packet, .waimai-card, [class*="redpacket"], [class*="transfer"], img[src*="redpacket"])::after,
.message-received:has(.red-packet, .waimai-card, [class*="redpacket"], [class*="transfer"], img[src*="redpacket"])::before,
.message-received:has(.red-packet, .waimai-card, [class*="redpacket"], [class*="transfer"], img[src*="redpacket"])::after {
    display: none !important;
}

.message-sent,
.message-received {
    box-shadow: none !important;
    border-width: 0 !important;
    font-weight: 500 !important;
    position: relative;
    overflow: visible !important;
}`
  },
{
id:'b32',
type:'bubble',
name:'é’æŸ å¥¶æ³¡',
author:'çœ çœ ',
previews:[
{t:'sent',v:'ä½ å¥½ï¼Œè¯·é—®ä½ æœ‰ç©ºè·Ÿæˆ‘èŠå¤©å—ï¼Œæˆ‘è™½ç„¶é•¿çš„ä¸å¥½çœ‹æ¸¸æˆæ‰“çš„ä¹Ÿä¸å¥½ä½†æ˜¯æˆ‘æ˜¯å°é¦‹çŒ«ï¼Œæˆ‘è§‰å¾—ä½ æœ‰ç‚¹åƒæˆ‘çš„é¥­ã€‚'},
{t:'received',v:'å®å®ä½ è§‰å¾—å‘¢'},
{t:'sent',v:'å¥½è€¶'},
{t:'received',v:'ä¸è¦å»åšå‚»äº‹'}
],
css:`
.message {
box-shadow: none !important;
border-width: 0 !important;
font-weight: 500 !important;
position: relative !important;
overflow: visible !important;
padding: 7px 13px !important;
line-height: 1.3 !important;
word-break: break-word !important;
border-radius: 18px !important;
box-shadow: 0 2px 4px rgba(60, 80, 40, 0.08) !important;
max-width: 95% !important;
letter-spacing: 0.01em;
}

.message-received {
background: #F1FCE1 !important; 
border-color: transparent !important;
color: #1e3a1e !important;
border-radius: 24px 24px 24px 4px !important;
padding: 8px 16px !important;
box-shadow:
0 8px 12px -4px rgba(70, 95, 50, 0.28),
-2px 0 6px -2px rgba(210, 230, 160, 0.5),
inset 0 -4px 6px -2px rgba(50, 80, 35, 0.25),
inset 2px 3px 8px -2px rgba(245, 255, 220, 0.9),
inset 0 0 0 1px rgba(90, 120, 60, 0.1) !important;
transition: box-shadow 0.2s ease;
position: relative !important;
}

.message-sent {
background: #F1FCE1 !important; 
border-color: transparent !important;
color: #1e3a1e !important; 
border-radius: 24px 24px 4px 24px !important;
padding: 8px 16px !important;
box-shadow:
0 10px 14px -6px rgba(65, 90, 45, 0.3),
3px 0 8px -5px rgba(150, 180, 100, 0.4),
inset 0 -5px 8px -3px rgba(50, 75, 35, 0.3),
inset 3px 3px 10px -2px rgba(250, 255, 225, 0.95),
inset 0 0 0 1px rgba(100, 130, 65, 0.15),
0 0 12px 2px rgba(210, 224, 176, 0.7) !important;
transition: box-shadow 0.2s ease;
position: relative !important;
}

.message-sent::before {
content: "â˜˜ï¸" !important;
position: absolute !important;
left: -10px !important; 
bottom: -4px !important; 
font-size: 18px !important; 
color: #F1FCE1 !important; 
text-shadow:
0 0 1px #A4CD90,
0 0 2px #A4CD90,
1px 1px 0 #A4CD90,
-1px -1px 0 #A4CD90,
1px -1px 0 #A4CD90,
-1px 1px 0 #A4CD90,
2px 2px 3px rgba(50, 70, 30, 0.3),
3px 3px 5px rgba(40, 60, 25, 0.25),
-1px -1px 2px rgba(250, 255, 230, 0.9),
1px 1px 2px rgba(230, 245, 200, 0.8),
0 0 8px rgba(210, 224, 176, 0.8),
0 0 12px rgba(210, 224, 176, 0.5) !important;
z-index: 2 !important;
pointer-events: none !important;
font-weight: 500 !important;
line-height: 1 !important;
transform: scale(1) !important;
transition: all 0.2s ease !important;
}

.message-sent::after {
content: "â˜˜ï¸" !important;
position: absolute !important;
left: -17px !important; 
bottom: 7px !important; 
font-size: 12px !important; 
color: #F1FCE1 !important; 
text-shadow:
0 0 1px #A4CD90,
0 0 2px #A4CD90,
1px 1px 0 #A4CD90,
-1px -1px 0 #A4CD90,
1px -1px 0 #A4CD90,
-1px 1px 0 #A4CD90,
2px 2px 3px rgba(50, 70, 30, 0.3),
3px 3px 5px rgba(40, 60, 25, 0.25),
-1px -1px 2px rgba(250, 255, 230, 0.9),
1px 1px 2px rgba(230, 245, 200, 0.8),
0 0 8px rgba(210, 224, 176, 0.8),
0 0 12px rgba(210, 224, 176, 0.5) !important;
z-index: 2 !important;
pointer-events: none !important;
font-weight: 500 !important;
line-height: 1 !important;
transform: scale(1) rotate(-10deg) !important;
transform-origin: center center !important;
transition: all 0.2s ease !important;
}

.message-sent:hover::before {
text-shadow:
0 0 2px #A4CD90,
0 0 3px #A4CD90,
1.5px 1.5px 0 #A4CD90,
-1.5px -1.5px 0 #A4CD90,
1.5px -1.5px 0 #A4CD90,
-1.5px 1.5px 0 #A4CD90,
3px 3px 5px rgba(50, 70, 30, 0.4),
4px 4px 7px rgba(40, 60, 25, 0.35),
-1.5px -1.5px 3px rgba(250, 255, 230, 1),
1.5px 1.5px 3px rgba(230, 245, 200, 0.9),
0 0 12px rgba(210, 224, 176, 1),
0 0 18px rgba(210, 224, 176, 0.7) !important;
transform: scale(1.02) !important;
}

.message-sent:hover::after {
text-shadow:
0 0 2px #A4CD90,
0 0 3px #A4CD90,
1.5px 1.5px 0 #A4CD90,
-1.5px -1.5px 0 #A4CD90,
1.5px -1.5px 0 #A4CD90,
-1.5px 1.5px 0 #A4CD90,
3px 3px 5px rgba(50, 70, 30, 0.4),
4px 4px 7px rgba(40, 60, 25, 0.35),
-1.5px -1.5px 3px rgba(250, 255, 230, 1),
1.5px 1.5px 3px rgba(230, 245, 200, 0.9),
0 0 12px rgba(210, 224, 176, 1),
0 0 18px rgba(210, 224, 176, 0.7) !important;
transform: scale(1.02) rotate(-10deg) !important;
}

.message-received::after {
content: "âœ¦" !important;
position: absolute !important;
top: -10px !important; 
right: -6px !important; 
font-size: 20px !important; 
color: #FFF8E7 !important; 
background: transparent !important;
text-shadow:
0 0 1px #FFE399,
0 0 2px #FFE399,
1px 1px 0 #FFE399,
-1px -1px 0 #FFE399,
1px -1px 0 #FFE399,
-1px 1px 0 #FFE399,
2px 2px 3px rgba(180, 130, 50, 0.35),
3px 3px 5px rgba(150, 100, 30, 0.3),
-1px -1px 2px rgba(255, 255, 240, 0.95),
1px 1px 2px rgba(255, 235, 180, 0.8),
0 0 8px rgba(255, 220, 120, 0.7),
0 0 12px rgba(255, 200, 80, 0.5),
0 0 15px rgba(255, 215, 0, 0.3) !important;
z-index: 3 !important;
pointer-events: none !important;
line-height: 1 !important;
transform: rotate(5deg) scale(1) !important;
font-weight: 400 !important;
opacity: 0.98 !important;
transition: all 0.2s ease !important;
}

.message-received:hover::after {
text-shadow:
0 0 2px #FFE399,
0 0 3px #FFE399,
1.5px 1.5px 0 #FFE399,
-1.5px -1.5px 0 #FFE399,
1.5px -1.5px 0 #FFE399,
-1.5px 1.5px 0 #FFE399,
3px 3px 5px rgba(180, 130, 50, 0.45),
4px 4px 7px rgba(150, 100, 30, 0.4),
-1.5px -1.5px 3px rgba(255, 255, 245, 1),
1.5px 1.5px 3px rgba(255, 235, 180, 0.9),
0 0 12px rgba(255, 220, 120, 0.9),
0 0 18px rgba(255, 200, 80, 0.7),
0 0 25px rgba(255, 215, 0, 0.4) !important;
transform: rotate(5deg) scale(1.05) !important;
}

.received .message {
margin-left: 14px !important;
}
.sent .message {
margin-right: 14px !important;
}

.message p {
margin: 0;
position: relative;
z-index: 1;
text-shadow: 0 1px 1px rgba(250, 255, 230, 0.6);
}

.message .meta {
font-size: 0.75rem;
opacity: 0.75;
margin-top: 5px;
text-align: right;
color: #2d4a2d;
font-weight: 400;
letter-spacing: 0.02em;
text-shadow: 0 1px 0 rgba(240, 250, 210, 0.5);
}

.message:hover {
filter: brightness(1.01);
transition: all 0.25s ease;
}

.message-received:hover {
box-shadow:
0 6px 10px -4px rgba(70, 95, 50, 0.3),
-1px 0 5px -2px rgba(210, 230, 160, 0.5),
inset 0 -3px 5px -2px rgba(50, 80, 35, 0.3),
inset 1px 2px 8px -2px rgba(250, 255, 230, 0.95),
inset 0 0 0 1px rgba(90, 120, 60, 0.15) !important;
}

.message-sent:hover {
box-shadow:
0 8px 12px -6px rgba(65, 90, 45, 0.35),
2px 0 7px -5px rgba(150, 180, 100, 0.5),
inset 0 -4px 7px -3px rgba(50, 75, 35, 0.35),
inset 2px 2px 10px -2px rgba(255, 255, 235, 1),
inset 0 0 0 1px rgba(100, 130, 65, 0.2),
0 0 14px 3px rgba(210, 224, 176, 0.8) !important;
}

@media (prefers-color-scheme: dark) {
.message-received, .message-sent {
background: #d0e0b8 !important; 
box-shadow:
0 10px 16px -6px rgba(0,0,0,0.5),
inset 0 -4px 6px -2px rgba(30, 50, 20, 0.5),
inset 2px 3px 8px -2px rgba(230, 245, 200, 0.3),
inset 0 0 0 1px rgba(150, 180, 100, 0.2),
0 0 12px 2px rgba(210, 224, 176, 0.5) !important;
}

.message-sent::before,
.message-sent::after {
color: #d0e0b8 !important; 
text-shadow:
0 0 2px #A4CD90,
0 0 3px #A4CD90,
1px 1px 0 #A4CD90,
-1px -1px 0 #A4CD90,
1px -1px 0 #A4CD90,
-1px 1px 0 #A4CD90,
2px 2px 4px rgba(0,0,0,0.5),
3px 3px 6px rgba(0,0,0,0.4),
-1px -1px 2px rgba(220, 240, 180, 0.7),
0 0 10px rgba(210, 224, 176, 1),
0 0 15px rgba(210, 224, 176, 0.8) !important;
}

.message-received::after {
color: #FFF8E7 !important;
text-shadow:
0 0 2px #FFE399,
0 0 3px #FFE399,
1px 1px 0 #FFE399,
-1px -1px 0 #FFE399,
1px -1px 0 #FFE399,
-1px 1px 0 #FFE399,
2px 2px 4px rgba(0,0,0,0.5),
3px 3px 6px rgba(0,0,0,0.4),
-1px -1px 2px rgba(255, 245, 200, 0.7),
0 0 10px rgba(255, 220, 120, 0.9),
0 0 15px rgba(255, 200, 80, 0.7) !important;
}
}`
},
{
  id: 'b33',
  type: 'bubble',
  name: 'å¿ƒè„‰',
  author: '11',
  group: 'g-xinmai',
  groupLabel: 'å¿ƒè„‰ç³»åˆ—',
  previews: [
    { t: 'sent', v: 'å¤šå¹¸è¿é‡è§äº†ä½ ' },
    { t: 'received', v: 'å¤šå¹¸è¿çˆ±ä¸Šäº†ä½ ' }
  ],
  css: `
.message { box-shadow: none !important; border: none !important; font-weight: 500 !important; position: relative; overflow: visible !important; }

@keyframes glass-shine{ 0% { background-position: -20% 0; } 100% { background-position: 120% 0; } }

@keyframes floatAndBurst{ 0% { transform: translate(0, 0) scale(0.2); opacity: 0; } 40% { transform: translate(0, -22px) scale(0.8); opacity: 0.5; } 60% { transform: translate(0, -30px) scale(1); opacity: 0.6; } 100% { transform: translate(0, -35px) scale(0); opacity: 0; } }

@keyframes ecg-pulse{ 
  0% { filter: drop-shadow(0 0 2px rgba(255, 255, 255, 0.5)); } 
  50% { filter: drop-shadow(0 0 8px rgba(255, 255, 255, 0.9)); } 
  100% { filter: drop-shadow(0 0 2px rgba(255, 255, 255, 0.5)); } 
}

.message-received{ background: rgba(255, 255, 255, 0.08) !important; backdrop-filter: blur(25px) !important; -webkit-backdrop-filter: blur(25px) !important; border: 1px solid rgba(255, 255, 255, 0.7) !important; color: #fff !important; border-radius: 24px !important; padding: 8px 16px !important; position: relative !important; }

.message-sent{ background: rgba(255, 255, 255, 0.1) !important; backdrop-filter: blur(25px) !important; -webkit-backdrop-filter: blur(25px) !important; border: 1px solid rgba(255, 255, 255, 0.8) !important; color: #000 !important; border-radius: 24px !important; padding: 8px 16px !important; position: relative !important; }

.message-received::before{ content: '' !important; position: absolute !important; left: 0; top: 0; right: 0; bottom: 0; border-radius: inherit !important; pointer-events: none !important; z-index: 2 !important; background: linear-gradient(110deg, transparent 30%, rgba(255,255,255,0.45) 50%, transparent 70%) !important; background-size: 200% 100% !important; animation: glass-shine 9s infinite linear !important; }

.message-received::after{ 
  content: '' !important; 
  position: absolute !important; 
  left: -8px !important;
  bottom: -6px !important;
  width: 70px !important;
  height: 20px !important;
  z-index: 3 !important;
  background: transparent !important;
  animation: ecg-pulse 2s infinite ease-in-out !important;
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 120 50" preserveAspectRatio="xMidYMid meet"><path d="M0,25 L15,25 L20,15 L25,35 L30,25 L45,25 L50,8 L55,42 L60,25 L75,25 L80,20 L85,30 L90,25 L105,25 L110,15 L115,35 L120,25" stroke="white" stroke-width="1" fill="none" stroke-dasharray="180" stroke-dashoffset="180"><animate attributeName="stroke-dashoffset" values="180;0;0" dur="3.5s" repeatCount="indefinite" /></path></svg>') !important;
  background-size: contain !important;
  background-repeat: no-repeat !important;
  background-position: left bottom !important;
  opacity: 0.9 !important;
  pointer-events: none !important;
  transform: scaleX(1);
}

.message-sent::before{ content: '' !important; position: absolute !important; left: 0; top: 0; right: 0; bottom: 0; border-radius: inherit !important; pointer-events: none !important; z-index: 2 !important; background: linear-gradient(110deg, transparent 30%, rgba(255,255,255,0.45) 50%, transparent 70%) !important; background-size: 200% 100% !important; animation: glass-shine 9s infinite linear !important; }

.message-sent::after{ content: 'â™¡' !important; color: rgba(255, 255, 255, 0.8) !important; font-size: 14px !important; position: absolute !important; bottom: 8px !important; right: 12px !important; z-index: 3 !important; animation: floatAndBurst 3.8s infinite ease-out !important; text-shadow: 0 0 10px rgba(255, 255, 255, 0.5) !important; pointer-events: none !important; }`
},
{
  id:'b34',
  type:'bubble',
  name:'èµ›åšä¸æœ‹å…‹',
  author:'å­è¶…å…„',
  previews:[
    {t:'sent',v:'è‡ªå¡«å°±æ˜¯'},
    {t:'received',v:'è¯´å¯ä»¥è‡ªå¡«å•Š'}
  ],
  css:`
.message {
  border-radius: 0 !important;
  box-shadow: none !important;
  overflow: visible !important;
  padding: 14px 20px !important;
  border: 2px solid !important;
  font-size: 14px !important;
  line-height: 1.5 !important;
  font-family: "Courier New", monospace !important;
  letter-spacing: 1px !important;
  position: relative !important;
  background-color: #0a0a0a !important;
}

.message.message-sent,
.message.message-received {
  display: inline-block !important;
  position: relative !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  width: auto !important;
  min-width: 200px !important;
}

.message.message-sent {
  color: #00f0ff !important;
  border-color: #00f0ff !important;
  box-shadow:
    4px 4px 0 #00f0ff,
    inset 0 0 20px rgba(0, 240, 255, 0.1) !important;
}

.message.message-sent::before {
  content: '' !important;
  position: absolute !important;
  top: 2px !important;
  left: 2px !important;
  right: -2px !important;
  bottom: -2px !important;
  border: 2px solid #ff0055 !important;
  z-index: -1 !important;
}

.message.message-received {
  color: #ff0055 !important;
  border-color: #ff0055 !important;
  box-shadow:
    4px 4px 0 #ff0055,
    inset 0 0 20px rgba(255, 0, 85, 0.1) !important;
}

.message.message-received::before {
  content: '' !important;
  position: absolute !important;
  top: 2px !important;
  left: 2px !important;
  right: -2px !important;
  bottom: -2px !important;
  border: 2px solid #00f0ff !important;
  z-index: -1 !important;
}

.message::after {
  display: none !important;
}

.timestamp {
  color: #ffffff !important;
  font-size: 10px !important;
  font-family: "Courier New", monospace !important;
  background-color: #0a0a0a !important;
  border: 1px solid #ffffff !important;
  padding: 2px 8px !important;
  margin-top: 8px !important;
  display: inline-block !important;
}

.message-wrapper.sent::before {
  content: "è‡ªå¡«" !important;
  position: absolute !important;
  top: -12px !important;
  left: -2px !important;
  background-color: #0a0a0a !important;
  color: #00f0ff !important;
  font-size: 12px !important;
  font-weight: bold !important;
  padding: 2px 12px !important;
  border: 2px solid #00f0ff !important;
  z-index: 10 !important;
}

.message-wrapper.received::before {
  content: "è‡ªå¡«" !important;
  position: absolute !important;
  top: -12px !important;
  right: -2px !important;
  background-color: #0a0a0a !important;
  color: #ff0055 !important;
  font-size: 12px !important;
  font-weight: bold !important;
  padding: 2px 12px !important;
  border: 2px solid #ff0055 !important;
  z-index: 10 !important;
}`
},
{
  id:'b35',
  type:'bubble',
  name:'kpopä»¿bubble',
  author:'å­è¶…å…„',
  previews:[
    {t:'sent',v:'å“¥å“¥/å§å§æˆ‘æƒ³ä½ æƒ¹'},
    {t:'received',v:'æˆ‘ä¹Ÿæƒ³ä½ ä»¬'}
  ],
  css:`
.message {
  border-radius: 18px !important;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08) !important;
  overflow: visible !important;
  padding: 12px 16px !important;
  border: none !important;
  font-size: 15px !important;
  line-height: 1.5 !important;
}

.message.message-sent,
.message.message-received {
  display: inline-block !important;
  position: relative !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  width: auto !important;
  min-width: 70% !important;
}

.message.message-sent {
  background-color: #9b7edc !important;
  color: #ffffff !important;
  border-radius: 18px 18px 4px 18px !important;
}

.message.message-received {
  background-color: #ffffff !important;
  color: #333333 !important;
  border-radius: 4px 18px 18px 18px !important;
  border: 1px solid rgba(0, 0, 0, 0.05) !important;
}

.message::after {
  display: none !important;
}
.message-wrapper.received {
  position: relative !important;
  padding-top: 18px !important;
}

.message-wrapper.received::before {
  content: "ARTIST" !important;
  position: absolute !important;
  top: 0 !important;
  left: 48px !important;
  background: linear-gradient(90deg, #a78bfa 0%, #c084fc 100%) !important;
  color: #ffffff !important;
  font-size: 9px !important;
  font-weight: 600 !important;
  padding: 2px 8px !important;
  border-radius: 8px !important;
  letter-spacing: 0.5px !important;
  line-height: 1 !important;
}

.timestamp {
  color: #999999 !important;
  font-size: 12px !important;
  margin-top: 4px !important;
}`
},
{
  id:'b36',type:'bubble',name:'çº¯ç™½ä¿¡ç¬º',author:'çœ çœ ',
  previews:[
    {t:'sent',v:'æ°”æ³¡é¢„è§ˆ*ä¸çŸ¥é“å•¥åå­—'},
    {t:'received',v:'æ‘¸æ‘¸å°æ‰‹'},
    {t:'received',v:'æ˜¯ä»£ç '}
  ],
  css:`.message { box-shadow: none !important; border-width: 0 !important; font-weight: 500 !important; position: relative; overflow: visible !important; }
/* å¯¹æ–¹æ°”æ³¡ï¼šåœ†å½¢ï¼Œ10%é€æ˜åº¦ç™½è‰²èƒŒæ™¯ï¼Œå¸¦å†…åœˆç°è‰²è½®å»“çº¿ï¼Œ#1C261Eå­—ä½“ï¼Œå®å¿ƒç™½è‰²å­—ä½“é˜´å½± */
.message-received { background: rgba(255, 255, 255, 0.1) !important; border: 1px solid rgba(255, 255, 255, 0.9) !important; color: #1C261E !important; text-shadow: 0 0 4px rgba(255, 255, 255, 1), 0 0 8px rgba(255, 255, 255, 1), 0 0 12px rgba(255, 255, 255, 1) !important; border-radius: 24px !important; padding: 8px 16px !important; box-shadow: 0 4px 8px rgba(128, 128, 128, 0.5), 0 0 0 2px rgba(128, 128, 128, 0.3) inset !important; }
/* è‡ªå·±æ°”æ³¡ï¼šåœ†å½¢ï¼Œ10%é€æ˜åº¦ç™½è‰²èƒŒæ™¯ï¼Œå¸¦å†…åœˆç°è‰²è½®å»“çº¿ï¼Œ#1C261Eå­—ä½“ï¼Œå®å¿ƒç™½è‰²å­—ä½“é˜´å½± */
.message-sent { background: rgba(255, 255, 255, 0.1) !important; border: 1px solid rgba(255, 255, 255, 0.9) !important; color: #1C261E !important; text-shadow: 0 0 4px rgba(255, 255, 255, 1), 0 0 8px rgba(255, 255, 255, 1), 0 0 12px rgba(255, 255, 255, 1) !important; border-radius: 24px !important; padding: 8px 16px !important; box-shadow: 0 4px 8px rgba(128, 128, 128, 0.5), 0 0 0 2px rgba(128, 128, 128, 0.3) inset !important; }`
},
{
  id:'b37',type:'bubble',name:'å¿ƒè„‰Â·çˆ±å¿ƒç‰ˆ',author:'11',
  group:'g-xinmai',groupLabel:'å¿ƒè„‰ç³»åˆ—',
  previews:[
    {t:'sent',v:'å¤šå¹¸è¿é‡è§äº†ä½ '},
    {t:'received',v:'å¤šå¹¸è¿çˆ±ä¸Šäº†ä½ '}
  ],
  css:`.message { box-shadow: none !important; border: none !important; font-weight: 500 !important; position: relative; overflow: visible !important; }
@keyframes floatAndBurst{ 0% { transform: translate(0, 0) scale(0.2); opacity: 0; } 40% { transform: translate(0, -22px) scale(0.8); opacity: 0.8; } 60% { transform: translate(0, -30px) scale(1); opacity: 1; } 100% { transform: translate(0, -35px) scale(0); opacity: 0; } }
@keyframes ecg-pulse{ 0% { filter: drop-shadow(0 0 3px rgba(255,255,255,0.8)); } 50% { filter: drop-shadow(0 0 12px rgba(255,255,255,1)); } 100% { filter: drop-shadow(0 0 3px rgba(255,255,255,0.8)); } }
.message-received{ background: transparent !important; backdrop-filter: none !important; -webkit-backdrop-filter: none !important; border: none !important; color: #fff !important; border-radius: 24px !important; padding: 8px 16px !important; position: relative !important; }
.message-sent{ background: transparent !important; backdrop-filter: none !important; -webkit-backdrop-filter: none !important; border: none !important; color: #000 !important; border-radius: 24px !important; padding: 8px 16px !important; position: relative !important; }
.message-received::after{ content: '' !important; position: absolute !important; left: -8px !important; bottom: -6px !important; width: 70px !important; height: 20px !important; z-index: 3 !important; background: transparent !important; animation: ecg-pulse 2s infinite ease-in-out !important; background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 120 50"><path d="M0,25 L15,25 L20,15 L25,35 L30,25 L45,25 L50,8 L55,42 L60,25 L75,25 L80,20 L85,30 L90,25 L105,25 L110,15 L115,35 L120,25" stroke="white" stroke-width="1.5" fill="none"/></svg>') !important; background-size: contain !important; background-repeat: no-repeat !important; background-position: left bottom !important; opacity: 1 !important; pointer-events: none !important; transform: scaleX(1); }
.message-received::before{ content: 'â™¡' !important; color: rgba(255,255,255,1) !important; font-size: 14px !important; position: absolute !important; bottom: 8px !important; right: 12px !important; z-index: 3 !important; animation: floatAndBurst 3.8s infinite ease-out !important; text-shadow: 0 0 12px rgba(255,255,255,0.9) !important; pointer-events: none !important; }
.message-sent::after{ content: '' !important; position: absolute !important; right: -16px !important; bottom: -6px !important; width: 70px !important; height: 20px !important; z-index: 3 !important; background: transparent !important; animation: ecg-pulse 2s infinite ease-in-out !important; background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 120 50"><path d="M0,25 L15,25 L20,15 L25,35 L30,25 L45,25 L50,8 L55,42 L60,25 L75,25 L80,20 L85,30 L90,25 L105,25 L110,15 L115,35 L120,25" stroke="white" stroke-width="1.5" fill="none"/></svg>') !important; background-size: contain !important; background-repeat: no-repeat !important; background-position: right bottom !important; opacity: 1 !important; pointer-events: none !important; transform: scaleX(-1); }
.message-sent::before{ content: 'â™¡' !important; color: rgba(255,255,255,1) !important; font-size: 14px !important; position: absolute !important; bottom: 8px !important; left: 12px !important; z-index: 3 !important; animation: floatAndBurst 3.8s infinite ease-out !important; text-shadow: 0 0 12px rgba(255,255,255,0.9) !important; pointer-events: none !important; }`
},
{
  id:'b38',
  type:'bubble',
  name:'è±†æ²™ç»¿å¾®é€',
  author:'è€çŒ«',
  previews:[
    {t:'sent',v:'123456789'},
    {t:'received',v:'ä¸€äºŒä¸‰å››äº”å…­ä¸ƒå…«ä¹'},
    {t:'sent',v:'ä¸‰ç‚¹ä¸€å››ä¸€äº”ä¹äºŒå…­'}
  ],
  css:`
.message {
  border-radius: 14px !important;
  box-shadow: none !important;
  overflow: visible !important;
  padding: 8px 12px !important;
  border: none !important;

  background: rgba(166, 196, 170, 0.35) !important;
  backdrop-filter: blur(10px) !important;
  -webkit-backdrop-filter: blur(10px) !important;
  border: 1px solid rgba(255, 255, 255, 0.15) !important;
  color: #2d4238 !important;
}

.message img {
  max-width: 100% !important;
  border-radius: 12px !important;
  margin: 4px 0 !important;
  display: block !important;
}

.message.message-received {
  background: rgba(235, 240, 236, 0.4) !important;
  color: #2d4238 !important;
}

.message.message-sent {
  background: rgba(166, 196, 170, 0.45) !important;
  color: #fff !important;
}`
},
{
  id:'b39',type:'bubble',name:'ç²‰è‰²',author:'ç¿Šç”œ',
  group:'g-xinqing',groupLabel:'å¿ƒæƒ…ç³»åˆ—',
  previews:[
    {t:'sent',v:'ä½ å¥½ï¼Œå¾ˆé«˜å…´è®¤è¯†ä½ ï½'},
    {t:'received',v:'æˆ‘ä¹Ÿæ˜¯ï¼Œä»Šå¤©å¤©æ°”ä¸é”™å‘€ï¼'}
  ],
  css:`
.message-box {
  max-width: 75%;
  margin: 16px 0;
  position: relative;
}

.message-sent,
.message-received {
  background: rgba(238, 147, 167, 0.25) !important;
  border: 1px solid rgba(255, 255, 255, 0.35) !important;
  color: #923850 !important;
  padding: 12px 16px !important;
  border-radius: 18px !important;
  display: inline-block !important;
  font-size: 15px !important;
  line-height: 1.5 !important;

  backdrop-filter: blur(10px) !important;
  -webkit-backdrop-filter: blur(10px) !important;
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.08) !important;
}

.message-sent {
  margin-left: auto !important;
  border-radius: 18px 6px 18px 18px !important;
}

.message-received {
  margin-right: auto !important;
  border-radius: 6px 18px 18px 18px !important;
}
`
},
{
  id:'b40',type:'bubble',name:'æ£•è‰²',author:'ç¿Šç”œ',
  group:'g-xinqing',groupLabel:'å¿ƒæƒ…ç³»åˆ—',
  previews:[
    {t:'sent',v:'ä½ å¥½ï¼Œå¾ˆé«˜å…´è®¤è¯†ä½ ï½'},
    {t:'received',v:'æˆ‘ä¹Ÿæ˜¯ï¼Œä»Šå¤©å¤©æ°”ä¸é”™å‘€ï¼'}
  ],
  css:`.message-sent,
.message-received {
  background: rgba(140, 120, 130, 0.2) !important;
  border: 1px solid rgba(255, 255, 255, 0.3) !important;
  color: #4a2c4a !important; 
  padding: 12px 16px !important;
  border-radius: 18px !important;
  display: inline-block !important;
  font-size: 15px !important;
  line-height: 1.5 !important;

  backdrop-filter: blur(10px) !important;
  -webkit-backdrop-filter: blur(10px) !important;
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.08) !important;
}

.message-sent {
  margin-left: auto !important;
  border-radius: 18px 6px 18px 18px !important;
}

.message-received {
  margin-right: auto !important;
  border-radius: 6px 18px 18px 18px !important;
}`
},
{
  id:'b41',type:'bubble',name:'é›¾è“',author:'ç¿Šç”œ',
  group:'g-xinqing',groupLabel:'å¿ƒæƒ…ç³»åˆ—',
  previews:[
    {t:'sent',v:'ä½ å¥½ï¼Œå¾ˆé«˜å…´è®¤è¯†ä½ ï½'},
    {t:'received',v:'æˆ‘ä¹Ÿæ˜¯ï¼Œä»Šå¤©å¤©æ°”ä¸é”™å‘€ï¼'}
  ],
  css:`.message-box {
  max-width: 75%;
  margin: 16px 0;
  position: relative;
}

.message-sent,
.message-received {
  background: rgba(110, 130, 150, 0.2) !important;
  border: 1px solid rgba(255, 255, 255, 0.3) !important;
  color: #1a365d !important;
  padding: 12px 16px !important;
  border-radius: 18px !important;
  display: inline-block !important;
  font-size: 15px !important;
  line-height: 1.5 !important;

  backdrop-filter: blur(10px) !important;
  -webkit-backdrop-filter: blur(10px) !important;
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.08) !important;
}

.message-sent {
  margin-left: auto !important;
  border-radius: 18px 6px 18px 18px !important;
}

.message-received {
  margin-right: auto !important;
  border-radius: 6px 18px 18px 18px !important;
}
`
},
{
  id:'b42',type:'bubble',name:'ç£¨ç ‚',author:'ç¿Šç”œ',
  group:'g-xiaomao',groupLabel:'ç»ç’ƒå°çŒ«ç³»åˆ—',
  previews:[
    {t:'sent',v:'æµ‹è¯•'},
    {t:'received',v:'ä½ ä¸æ˜¯å­¤å•ä¸€ä¸ªäººåœ¨å¯¹æŠ—ä¸–ç•Œ'}
  ],
  css:`
.message-sent, .message-received {
  background: linear-gradient(145deg, rgba(137, 207, 240, 0.6), rgba(255, 182, 193, 0.6)) !important;
    color: #333 !important;
    border: 2px solid rgba(249, 199, 185, 0.8) !important;
    clip-path: polygon(
    0% 0%, 12% 0%, 17% 8%, 22% 0%,
    78% 0%, 83% 8%, 88% 0%, 100% 0%,
    100% 100%, 0% 100%
  ) !important;
    padding: 15px 20px !important;
    backdrop-filter: blur(10px) !important;
  -webkit-backdrop-filter: blur(10px) !important;
  box-shadow: 
    0 4px 8px rgba(0, 0, 0, 0.1),
    inset 0 1px 4px rgba(255, 255, 255, 0.4) !important;
}`
},
{
  id:'b43',type:'bubble',name:'æ¯›èŒ¸èŒ¸',author:'ç¿Šç”œ',
  group:'g-xiaomao',groupLabel:'ç»ç’ƒå°çŒ«ç³»åˆ—',
  previews:[
    {t:'sent',v:'æµ‹è¯•'},
    {t:'received',v:'ä½ ä¸æ˜¯å­¤å•ä¸€ä¸ªäººåœ¨å¯¹æŠ—ä¸–ç•Œ'}
  ],
  css:`
.message-sent, .message-received {
  position: relative !important;
  background: 
    radial-gradient(circle at 30% 40%, rgba(255, 240, 245, 0.3) 2px, transparent 2px),
    radial-gradient(circle at 70% 60%, rgba(255, 220, 225, 0.3) 3px, transparent 3px),
    linear-gradient(145deg, #89cff0, #ffb6c1) !important;
  background-blend-mode: overlay !important; 
  color: #333 !important;
  clip-path: polygon(
    0% 0%, 12% 0%, 17% 8%, 22% 0%,
    78% 0%, 83% 8%, 88% 0%, 100% 0%,
    100% 100%, 0% 100%
  ) !important;
  padding: 15px 20px !important;
  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1) !important;
  z-index: 1 !important;
}
.message-sent::before,
.message-received::before {
  content: '' !important;
  position: absolute !important;
  top: 0 !important;
  left: 0 !important;
  width: 100% !important;
  height: 100% !important;
  background: rgba(249, 199, 185, 0.7) !important;
  clip-path: polygon(
    0% 0%, 12% 0%, 17% 8%, 22% 0%,
    78% 0%, 83% 8%, 88% 0%, 100% 0%,
    100% 100%, 0% 100%
  ) !important;
  transform: scale(1.08) !important;
  transform-origin: center !important;
  filter: blur(6px) !important;
  z-index: -1 !important;
  opacity: 0.9 !important;
}
.message-sent::after,
.message-received::after {
  content: '' !important;
  position: absolute !important;
  top: 0 !important;
  left: 0 !important;
  width: 100% !important;
  height: 100% !important;
  clip-path: polygon(
    0% 0%, 12% 0%, 17% 8%, 22% 0%,
    78% 0%, 83% 8%, 88% 0%, 100% 0%,
    100% 100%, 0% 100%
  ) !important;
  background: rgba(255, 200, 200, 0.2) !important;
  transform: scale(1.04) !important;
  filter: blur(10px) !important;
  z-index: -2 !important;
  opacity: 0.6 !important;
}`
},
{
id:'b44',
type:'bubble',
name:'å¼¥å†¬',
author:'11',
previews:[
{t:'sent',v:'å¤šå¹¸è¿é‡è§äº†ä½ '},
{t:'received',v:'å¤šå¹¸è¿çˆ±ä¸Šäº†ä½ '}
],
css:`.message {
box-shadow: none !important;
border-width: 0 !important;
font-weight: 500 !important;
position: relative;
overflow: visible !important;
}

.message-received::before,
.message-sent::before {
content: '' !important;
position: absolute !important;
left: 0 !important;
top: 0 !important;
right: 0 !important;
bottom: 0 !important;
border-radius: inherit !important;
pointer-events: none !important;
z-index: 1 !important;

background-image: radial-gradient(circle at 10% 30%, rgba(255,255,255,0.5) 1px, transparent 1px),
radial-gradient(circle at 30% 10%, rgba(255,255,255,0.15) 1px, transparent 1px),
radial-gradient(circle at 60% 70%, rgba(255,255,255,0.4) 1px, transparent 1px),
radial-gradient(circle at 85% 45%, rgba(255,255,255,0.2) 1px, transparent 1px);
background-size: 90px 90px, 80px 80px, 70px 70px, 60px 60px !important;

animation: snow-natural 40s linear infinite !important;
will-change: background-position !important;
transform: translateZ(0) !important;
mix-blend-mode: screen !important;
opacity: 0.5 !important;
}

@keyframes snow-natural {
0% {
background-position: 0 0;
}
100% {
background-position: 700px 900px;
}
}

.message-received {
background: linear-gradient(145deg, rgba(30, 30, 40, 0.45), rgba(10, 10, 20, 0.35)) !important;
backdrop-filter: blur(12px) !important;
-webkit-backdrop-filter: blur(12px) !important;
border: 1px solid rgba(255, 255, 255, 0.15) !important;
box-shadow: inset 0 0 12px rgba(255, 255, 255, 0.1) !important;
color: #fff !important;
border-radius: 24px 24px 24px 4px !important;
padding: 8px 16px !important;
position: relative !important;
isolation: isolate !important;
overflow: visible !important;
}

.message-sent {
background: linear-gradient(145deg, rgba(40, 40, 55, 0.5), rgba(20, 20, 35, 0.4)) !important;
backdrop-filter: blur(12px) !important;
-webkit-backdrop-filter: blur(12px) !important;
border: 1px solid rgba(255, 255, 255, 0.18) !important;
box-shadow: inset 0 0 14px rgba(255, 255, 255, 0.12) !important;
color: #fff !important;
border-radius: 24px 24px 4px 24px !important;
padding: 8px 16px !important;
position: relative !important;
isolation: isolate !important;
overflow: visible !important;
}

.message-received::after {
content: '' !important;
position: absolute !important;
width: 12px !important;
height: 12px !important;
left: -6px !important;
bottom: 1px !important;
z-index: 10 !important;
border-radius: 50% !important;
box-shadow: inset 3px 0 0 rgba(255, 255, 255, 0.95) !important;
transform: rotate(-40deg) !important;
filter: drop-shadow(0 0 3px rgba(255, 255, 255, 0.5)) !important;
animation: moonGlow 3s ease-in-out infinite !important;
}

.message-sent::after {
content: 'â˜ƒï¸' !important;
position: absolute !important;
right: -4px !important;
bottom: 3px !important;
width: auto !important;
height: auto !important;
z-index: 10 !important;
background: transparent !important;
clip-path: none !important;
font-size: 14px !important;
line-height: 1 !important;
filter: drop-shadow(0 0 4px rgba(255, 255, 255, 0.8)) !important;
animation: starTwinkle 2.4s ease-in-out infinite !important;
color: white !important;
text-shadow: 0 0 2px rgba(255,255,255,0.5) !important;
}

@keyframes moonGlow {
0%,
100% {
box-shadow: inset 3px 0 0 rgba(255, 255, 255, 0.95) !important;
filter: drop-shadow(0 0 3px rgba(255, 255, 255, 0.5)) !important;
}
50% {
box-shadow: inset 3px 0 0 rgba(255, 255, 255, 1) !important;
filter: drop-shadow(0 0 5px rgba(255, 255, 255, 0.7)) !important;
}
}

@keyframes starTwinkle {
0%,
100% {
opacity: 1 !important;
transform: scale(1) !important;
filter: drop-shadow(0 0 4px rgba(255, 255, 255, 0.8)) !important;
}
50% {
opacity: 1 !important;
transform: scale(1.15) !important;
filter: drop-shadow(0 0 6px rgba(255, 255, 255, 1)) !important;
}
}`
},
{
id:'b45',
type:'bubble',
name:'èƒ¶å›Šå°å…”',
author:'çœ çœ ',
previews:[
{t:'sent',v:'çˆ±æ²¡æœ‰æ–¹å‘ï¼Œä½ å°±æ˜¯å¯¼èˆª'},
{t:'received',v:'ç”±ä½ '}
],
css:`.message {
box-shadow: none !important;
border-width: 0 !important;
font-weight: 500 !important;
position: relative;
overflow: visible !important;
}

.message-received {
background: linear-gradient(145deg, #FFFFFF 0%, #e1edff 100%) !important;
border: none !important;
color: #808080 !important; /* æ”¹ä¸ºæ ‡å‡†ç°è‰² */
text-shadow:
0 0 4px rgba(255, 255, 255, 1),
0 0 8px rgba(255, 255, 255, 1),
0 0 12px rgba(255, 255, 255, 1),
0 2px 4px rgba(0, 0, 0, 0.2) !important;
border-radius: 24px !important;
padding: 8px 28px 8px 16px !important;
box-shadow:
0 10px 20px rgba(0, 0, 0, 0.1),
0 6px 6px rgba(0, 0, 0, 0.1),
0 -2px 4px rgba(255, 255, 255, 0.8),
-2px 0 4px rgba(255, 255, 255, 0.8),
0 4px 8px rgba(225, 237, 255, 0.6),
inset 0 -2px 4px rgba(0, 0, 0, 0.05),
inset 0 2px 4px rgba(255, 255, 255, 0.8) !important;
position: relative;
}

.message-sent {
background: linear-gradient(145deg, #FFFFFF 0%, #FFDDE1 100%) !important;
border: none !important;
color: #AA8C92 !important;
text-shadow: 0 0 4px rgba(255, 255, 255, 1), 0 0 8px rgba(255, 255, 255, 1), 0 0 12px rgba(255, 255, 255, 1) !important;
border-radius: 24px !important;
padding: 8px 28px 8px 28px !important;
box-shadow:
0 10px 20px rgba(0, 0, 0, 0.1),
0 6px 6px rgba(0, 0, 0, 0.1),
0 -2px 4px rgba(255, 255, 255, 0.8),
-2px 0 4px rgba(255, 255, 255, 0.8),
0 4px 8px rgba(255, 221, 225, 0.4),
inset 0 -2px 4px rgba(0, 0, 0, 0.05),
inset 0 2px 4px rgba(255, 255, 255, 0.8) !important;
position: relative;
}

.message-sent::before {
content: "";
position: absolute;
top: -5px;
left: 1px;
width: 14px;
height: 14px;
background-image: url('https://img.sobot.com/c3d7f65e19e748b28fc7e9f989624633/console/wsRes/ticket/20260219/1768af743e16171c0f95c5258f18faeb/IyOmS_1771499166374.png');
background-size: contain;
background-position: center;
background-repeat: no-repeat;
background-color: transparent;
filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1));
z-index: 10;
}

.message-sent::after {
content: "";
position: absolute;
top: 2px;
right: 7px;
width: 6px;
height: 6px;
background-image: url('https://file.ljcdn.com/psd-sinan-file/prod/appeal_evidence/B18F0AACFB98437E8397ADA69B4434E8/qdqqd.png');
background-size: contain;
background-position: center;
background-repeat: no-repeat;
background-color: transparent;
filter: blur(0.6px) drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1));
z-index: 10;
}

.message-received::after {
content: "";
position: absolute;
top: 2px;
right: 9px;
width: 6px;
height: 6px;
background-image: url('https://file.ljcdn.com/psd-sinan-file/prod/appeal_evidence/B18F0AACFB98437E8397ADA69B4434E8/qdqqd.png');
background-size: contain;
background-position: center;
background-repeat: no-repeat;
background-color: transparent;
filter: blur(0.6px) drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1));
z-index: 10;
}`
},
{
  id:'b46',
  type:'bubble',
  name:'è½»æ¾ç†Šä¸è½»æ¾',
  author:'è›‹æŒ',
  previews:[
    {t:'sent',v:'(ï½¥âˆï½¥ï¾Ñå’•å™œå™œ'},
    {t:'received',v:'å”‰ äººç±» äººç´¯ äººæ³ª ( â€˜-Ï‰à¸ )'}
  ],
  css:`.message {
  position: relative !important;
  line-height: 1.1 !important;
  overflow: visible !important;
  width: fit-content !important;
  max-width: 280px !important;
  word-break: normal !important;
}
.message.message-received {
  background: transparent !important;
  border: none !important;
  border-radius: 0 !important;
  box-shadow: none !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  color: #ffffff !important;
  padding: 13.5px 15px 10px 15px !important;
  z-index: 1 !important;
}
.message.message-sent {
  background: transparent !important;
  border: none !important;
  border-radius: 0 !important;
  box-shadow: none !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  color: #000000 !important;
  padding: 15px 10px 10px 10px !important;
  z-index: 1 !important;
}
.message.message-received::before {
  content: '' !important;
  position: absolute !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  bottom: 0 !important;
  z-index: -1 !important;
  border-style: solid !important;
  border-image-repeat: repeat !important;
  border-image-source: url('https://img.heliar.top/file/1771492474007_IMG_5351.png') !important;
  border-image-slice: 544 1375 236 1274 fill !important;
  border-image-width: 30px 76px 13px 71px !important;
  pointer-events: none;
}
.message.message-sent::before {
  content: '' !important;
  position: absolute !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  bottom: 0 !important;
  z-index: -1 !important;
  border-style: solid !important;
  border-image-repeat: repeat !important;
  border-image-source: url('https://img.heliar.top/file/1771492474996_IMG_5386.png') !important;
  border-image-slice: 664 1083 147 1182 fill !important;
  border-image-width: 37px 60px 8px 66px !important;
  pointer-events: none;
}`
}
];

const ALL = [...BUBBLES, ...FONTS];

let state = { type:'all', author:'all', query:'', fontFamily: loadFont() };
let currentModalItem = null;

function toast(msg, dur=2800){
  const el = document.getElementById('toast');
  el.textContent = msg;
  el.classList.add('show');
  clearTimeout(el._t);
  el._t = setTimeout(()=>el.classList.remove('show'), dur);
}

function copyText(text, label){
  if(navigator.clipboard && window.isSecureContext){
    navigator.clipboard.writeText(text).then(()=>toast('âœ… å·²å¤åˆ¶ ' + label));
  } else {
    const ta = document.createElement('textarea');
    ta.value = text; ta.style.cssText='position:fixed;opacity:0';
    document.body.appendChild(ta); ta.focus(); ta.select();
    try{ document.execCommand('copy'); toast('âœ… å·²å¤åˆ¶ ' + label); }
    catch(e){ toast('âŒ å¤åˆ¶å¤±è´¥'); }
    document.body.removeChild(ta);
  }
}

function isFav(id){ return favorites.includes(id); }

function toggleFav(id){
  if(isFav(id)){
    favorites = favorites.filter(f=>f!==id);
  } else {
    favorites.push(id);
  }
  saveFavs(favorites);
  const fontItem = FONTS.find(f=>f.id===id);
  if(fontItem){
    if(isFav(id)){
      if(!fontFavorites.includes(id)) fontFavorites.push(id);
    } else {
      fontFavorites = fontFavorites.filter(f=>f!==id);
    }
    saveFontFavs(fontFavorites);
  }
  updateFavCounts();
  const cards = document.querySelectorAll('#card-grid .item-card');
  cards.forEach(c=>{ if(c.dataset.id===id){ c.classList.toggle('favorited', isFav(id)); } });
  const mb = document.getElementById('modal-fav-btn');
  if(currentModalItem && currentModalItem.id===id){
    mb.classList.toggle('on', isFav(id));
    mb.title = isFav(id) ? 'å–æ¶ˆæ”¶è—' : 'æ”¶è—';
  }
  if(state.type==='fav') renderCards();
}

function updateFavCounts(){
  const n = favorites.filter(id=>ALL.some(i=>i.id===id)).length;
  ['c-fav','mc-fav'].forEach(id=>{ const el=document.getElementById(id); if(el) el.textContent=n; });
}

function getFiltered(){
  const q = state.query.toLowerCase();
  return ALL.filter(item=>{
    if(state.type==='fav' && !isFav(item.id)) return false;
    if(state.type!=='all' && state.type!=='fav' && item.type!==state.type) return false;
    if(state.author!=='all' && item.author!==state.author) return false;
    if(q && !item.name.toLowerCase().includes(q) && !item.author.toLowerCase().includes(q)) return false;
    return true;
  });
}

function countFor(type){
  return ALL.filter(item=>{
    if(type==='fav' && !isFav(item.id)) return false;
    if(type!=='all' && type!=='fav' && item.type!==type) return false;
    if(state.author!=='all' && item.author!==state.author) return false;
    const q = state.query.toLowerCase();
    if(q && !item.name.toLowerCase().includes(q) && !item.author.toLowerCase().includes(q)) return false;
    return true;
  }).length;
}

function renderCounts(){
  ['all','bubble','font','fav'].forEach(t=>{
    const n = countFor(t);
    ['c-'+t, 'mc-'+t].forEach(id=>{
      const el = document.getElementById(id);
      if(el) el.textContent = n;
    });
  });
}

function renderAuthors(){
  const authorMap = {};
  ALL.forEach(i=>{ authorMap[i.author] = (authorMap[i.author]||0)+1; });

  ['author-list','m-author-list'].forEach(listId=>{
    const el = document.getElementById(listId);
    if(!el) return;
    el.innerHTML = '';

    const allChip = document.createElement('div');
    allChip.className = 'author-chip' + (state.author==='all'?' active':'');
    allChip.dataset.author = 'all';
    allChip.innerHTML = 'å…¨éƒ¨ <span class="author-chip-n">'+ALL.length+'</span>';
    allChip.onclick = ()=>setAuthor('all');
    el.appendChild(allChip);

    Object.entries(authorMap).forEach(([name,n])=>{
      const d = document.createElement('div');
      d.className = 'author-chip' + (state.author===name?' active':'');
      d.dataset.author = name;
      d.innerHTML = name + ' <span class="author-chip-n">'+n+'</span>';
      d.onclick = ()=>setAuthor(name);
      el.appendChild(d);
    });
  });
}

function renderCards(){
  const grid = document.getElementById('card-grid');
  grid.innerHTML = '';
  const filtered = getFiltered();

  renderCounts();

  if(!filtered.length){
    grid.innerHTML = `<div class="empty-state">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><circle cx="11" cy="11" r="8"/><path d="M21 21l-4.35-4.35"/></svg>
      ${state.type==='fav' ? 'è¿˜æ²¡æœ‰æ”¶è—ï¼Œç‚¹å‡» â™¡ æ”¶è—å–œæ¬¢çš„æ ·å¼' : 'æ²¡æœ‰æ‰¾åˆ°åŒ¹é…çš„å†…å®¹'}
    </div>`;
    return;
  }

  const renderedGroups = new Set();
  let visibleCount = 0;
  filtered.forEach(item=>{
    if(item.group){ if(!renderedGroups.has(item.group)){ visibleCount++; renderedGroups.add(item.group); } }
    else { visibleCount++; }
  });
  document.getElementById('toolbar-info').textContent = visibleCount + ' ä¸ªç»“æœ';
  renderedGroups.clear();

  const groupSelected = {};

  filtered.forEach((item, i)=>{
    if(item.group){
      if(renderedGroups.has(item.group)) return;
      renderedGroups.add(item.group);
    }

    const siblings = item.group ? BUBBLES.filter(b=>b.group===item.group) : null;
    const activeItem = item; 

    if(item.group) groupSelected[item.group] = item.id;

    const card = document.createElement('div');
    card.className = 'item-card' + (isFav(item.id)?' favorited':'');
    card.style.animationDelay = Math.min(i * 0.04, 0.3) + 's';
    card.dataset.id = item.id;

    const badge = item.type==='bubble'
      ? '<span class="card-badge badge-bubble">æ°”æ³¡</span>'
      : '<span class="card-badge badge-font">å­—ä½“</span>';
    const nameStyle = item.type==='font' ? `style="font-family:${item.family}"` : '';
    const copyIcon = item.type==='bubble'
      ? '<rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/>'
      : '<path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"/><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"/>';
    const favOn = isFav(item.id);

    const variantHTML = siblings && siblings.length > 1 ? `
      <div class="card-variants">
        ${siblings.map(s=>`<button class="card-var-btn${s.id===item.id?' active':''}" data-var-id="${s.id}" data-var-name="${s.name}">${s.name}</button>`).join('')}
      </div>` : '';

    card.innerHTML = `
      <div class="card-top">
        <span class="card-name" ${nameStyle}>${item.group ? (item.groupLabel||item.group) : item.name}${item.group?'<span class="card-group-dot" title="åŒç³»åˆ—å˜ä½“"></span>':''}</span>
        ${badge}
      </div>
      <span class="card-author">${item.author}</span>
      ${variantHTML}
      <div class="card-actions">
        <button class="btn-preview">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>
          é¢„è§ˆ
        </button>
        <button class="btn-icon btn-fav ${favOn?'on':''}" title="${favOn?'å–æ¶ˆæ”¶è—':'æ”¶è—'}">
          <svg viewBox="0 0 24 24" fill="${favOn?'currentColor':'none'}" stroke="currentColor"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/></svg>
        </button>
        <button class="btn-icon btn-copy" title="å¤åˆ¶">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">${copyIcon}</svg>
        </button>
      </div>
    `;

    if(siblings && siblings.length > 1){
      card.querySelectorAll('.card-var-btn').forEach(vBtn=>{
        vBtn.addEventListener('click', e=>{
          e.stopPropagation();
          const varId = vBtn.dataset.varId;
          groupSelected[item.group] = varId;
          card.querySelectorAll('.card-var-btn').forEach(b=>b.classList.toggle('active', b.dataset.varId===varId));
          const selSib = siblings.find(s=>s.id===varId);
          if(selSib){
            card.dataset.id = varId;
            card.querySelector('.btn-preview').dataset.varId = varId;
          }
        });
      });
    }

    card.querySelector('.btn-preview').addEventListener('click', e=>{
      e.stopPropagation();
      if(item.group){
        const selId = groupSelected[item.group] || item.id;
        const selItem = BUBBLES.find(b=>b.id===selId) || item;
        openModal(selItem);
      } else {
        openModal(item);
      }
    });

    card.querySelector('.btn-fav').addEventListener('click', e=>{
      e.stopPropagation();
      toggleFav(item.id);
      const b=e.currentTarget;
      const on=isFav(item.id);
      b.classList.toggle('on',on);
      b.title=on?'å–æ¶ˆæ”¶è—':'æ”¶è—';
      b.querySelector('svg').setAttribute('fill',on?'currentColor':'none');
    });

    card.querySelector('.btn-copy').addEventListener('click', e=>{
      e.stopPropagation();
      if(item.group){
        const selId = groupSelected[item.group] || item.id;
        const selItem = siblings.find(s=>s.id===selId) || item;
        const selName = selItem.name;
        copyText(selItem.css, `CSSï¼ˆ${selName}ï¼‰`);
      } else {
        copyText(item.type==='bubble'?item.css:item.url, item.type==='bubble'?'CSS':'å­—ä½“é“¾æ¥');
      }
    });

    card.addEventListener('click', ()=>{
      if(item.group){
        const selId = groupSelected[item.group] || item.id;
        const selItem = BUBBLES.find(b=>b.id===selId) || item;
        openModal(selItem);
      } else {
        openModal(item);
      }
    });

    grid.appendChild(card);
  });
}

function openModal(item){
  currentModalItem = item;
  const backdrop = document.getElementById('modal-backdrop');
  const body     = document.getElementById('modal-body');
  const footer   = document.getElementById('modal-footer');
  const name     = document.getElementById('modal-name');
  const badgeEl  = document.getElementById('modal-badge');
  const favBtn   = document.getElementById('modal-fav-btn');

  name.textContent = item.name;
  badgeEl.innerHTML = item.type==='bubble'
    ? '<span class="card-badge badge-bubble">æ°”æ³¡</span>'
    : '<span class="card-badge badge-font">å­—ä½“</span>';

  const favOn = isFav(item.id);
  favBtn.classList.toggle('on', favOn);
  favBtn.title = favOn ? 'å–æ¶ˆæ”¶è—' : 'æ”¶è—';
  favBtn.querySelector('svg').setAttribute('fill', favOn ? 'currentColor' : 'none');
  favBtn.onclick = ()=>toggleFav(item.id);

  body.innerHTML = '';
  footer.innerHTML = '';

  if(item.type === 'bubble'){
    document.getElementById('dbs').textContent = item.css;

    function renderBubblePreviews(previewItem){
      body.innerHTML = '';
      document.getElementById('dbs').textContent = previewItem.css;
      currentModalItem = previewItem;
      document.getElementById('modal-name').textContent = previewItem.name;
      const favOn2 = isFav(previewItem.id);
      favBtn.classList.toggle('on', favOn2);
      favBtn.title = favOn2 ? 'å–æ¶ˆæ”¶è—' : 'æ”¶è—';
      favBtn.querySelector('svg').setAttribute('fill', favOn2 ? 'currentColor' : 'none');
      favBtn.onclick = ()=>toggleFav(previewItem.id);
      (previewItem.previews || [{t:'sent',v:'ä½ å¥½'},{t:'received',v:'ä½ å¥½å‘€'}]).forEach(msg=>{
        const row = document.createElement('div');
        row.className = 'msg-row ' + msg.t;
        const bub = document.createElement('div');
        bub.className = 'message message-' + msg.t;
        bub.textContent = msg.v;
        row.appendChild(bub);
        body.appendChild(row);
      });
      body.style.fontFamily = state.fontFamily;
    }

    renderBubblePreviews(item);

    const modalState = { fontFamily: state.fontFamily };
    body.style.fontFamily = modalState.fontFamily;

    if(item.group){
      const siblings = BUBBLES.filter(b=>b.group===item.group);
      if(siblings.length > 1){
        const varSection = document.createElement('div');
        varSection.className = 'variant-section';
        const varLabel = document.createElement('div');
        varLabel.className = 'variant-label';
        varLabel.innerHTML = `åŒç³»åˆ—å˜ä½“ <span class="variant-tag">${item.groupLabel||item.group}</span>`;
        varSection.appendChild(varLabel);
        const varRow = document.createElement('div');
        varRow.className = 'variant-row';
        siblings.forEach(sib=>{
          const vBtn = document.createElement('button');
          vBtn.className = 'variant-btn' + (sib.id===item.id?' active':'');
          vBtn.textContent = sib.name;
          vBtn.dataset.varId = sib.id;
          vBtn.addEventListener('click', ()=>{
            renderBubblePreviews(sib);
            varRow.querySelectorAll('.variant-btn').forEach(b=>b.classList.toggle('active', b.dataset.varId===sib.id));
            footer.querySelector('.copy-css-btn').onclick = ()=>copyText(sib.css,'CSS');
          });
          varRow.appendChild(vBtn);
        });
        varSection.appendChild(varRow);
        footer.appendChild(varSection);
      }
    }

    const switchLabel = document.createElement('div');
    switchLabel.className = 'font-switch-label';
    switchLabel.textContent = 'æ”¶è—å­—ä½“';
    footer.appendChild(switchLabel);

    const defSection = document.createElement('div');
    defSection.className = 'font-cat-section';
    const defHeader = document.createElement('div');
    defHeader.className = 'font-cat-header';
    const defCatLabel = document.createElement('span');
    defCatLabel.className = 'font-cat-name';
    defCatLabel.textContent = 'é»˜è®¤';
    defHeader.appendChild(defCatLabel);
    defSection.appendChild(defHeader);
    const defRow = document.createElement('div');
    defRow.className = 'modal-footer-row';

    const defBtn = document.createElement('button');
    defBtn.className = 'font-btn' + (modalState.fontFamily==='' ? ' active' : '');
    defBtn.textContent = 'é»˜è®¤å­—ä½“';
    defBtn.onclick = ()=>{ modalState.fontFamily=''; body.style.fontFamily=''; saveFont(''); updateFontBtns(footer, modalState); };
    defRow.appendChild(defBtn);

    const defaultFonts = FONTS.filter(f=>DEFAULT_FONT_IDS.includes(f.id));
    defaultFonts.forEach(f=>{
      const btn = document.createElement('button');
      btn.className = 'font-btn' + (modalState.fontFamily===f.family ? ' active' : '');
      btn.style.fontFamily = f.family;
      btn.dataset.family = f.family;
      btn.textContent = f.name;
      btn.onclick = ()=>{ modalState.fontFamily=f.family; body.style.fontFamily=f.family; saveFont(f.family); updateFontBtns(footer, modalState); };
      defRow.appendChild(btn);
    });
    defSection.appendChild(defRow);
    footer.appendChild(defSection);

    const favFonts = FONTS.filter(f=>fontFavorites.includes(f.id) && !DEFAULT_FONT_IDS.includes(f.id));
    const favFontSection = document.createElement('div');
    favFontSection.className = 'font-cat-section';
    const favFontHeader = document.createElement('div');
    favFontHeader.className = 'font-cat-header';
    const favCatLabel = document.createElement('span');
    favCatLabel.className = 'font-cat-name';
    favCatLabel.textContent = 'å·²æ”¶è—';
    favFontHeader.appendChild(favCatLabel);
    favFontSection.appendChild(favFontHeader);
    const favFontRow = document.createElement('div');
    favFontRow.className = 'modal-footer-row';
    if(favFonts.length === 0){
      const hint = document.createElement('span');
      hint.style.cssText = 'font-size:11px;color:var(--text-muted);padding:4px 2px';
      hint.textContent = 'åœ¨ç”»å»Šæ”¶è—å­—ä½“åæ˜¾ç¤ºäºæ­¤';
      favFontRow.appendChild(hint);
    } else {
      favFonts.forEach(f=>{
        const btn = document.createElement('button');
        btn.className = 'font-btn' + (modalState.fontFamily===f.family ? ' active' : '');
        btn.style.fontFamily = f.family;
        btn.dataset.family = f.family;
        btn.textContent = f.name;
        btn.onclick = ()=>{ modalState.fontFamily=f.family; body.style.fontFamily=f.family; saveFont(f.family); updateFontBtns(footer, modalState); };
        favFontRow.appendChild(btn);
      });
    }
    favFontSection.appendChild(favFontRow);
    footer.appendChild(favFontSection);

    const copyBtn = document.createElement('button');
    copyBtn.className = 'copy-css-btn';
    copyBtn.innerHTML = `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>å¤åˆ¶ CSS ä»£ç `;
    copyBtn.onclick = ()=>copyText(item.css, 'CSS');
    footer.appendChild(copyBtn);

  } else {
    document.getElementById('dbs').textContent = '';

    const box = document.createElement('div');
    box.className = 'font-preview-box';
    box.innerHTML = `
      <div class="font-big" style="font-family:${item.family}">å­—ä½“é¢„è§ˆ<br>æˆ‘è®¸æ„¿ä¸€ä¸ªæœ‰ä½ çš„å†¬å¤©</div>
      <div class="font-small" style="font-family:${item.family}">æˆ‘å››å­£éƒ½åœ¨<br>Aa Bb Cc 123</div>
      <div class="font-chars" style="font-family:${item.family}">æ°¸è¿œ çˆ±ä½  æ€å¿µ</div>
    `;
    body.appendChild(box);

    const copyBtn = document.createElement('button');
    copyBtn.className = 'copy-css-btn';
    copyBtn.innerHTML = `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"/><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"/></svg>å¤åˆ¶å­—ä½“é“¾æ¥`;
    copyBtn.onclick = ()=>copyText(item.url, 'å­—ä½“é“¾æ¥');
    footer.appendChild(copyBtn);
  }

  backdrop.classList.add('open');
  document.body.style.overflow = 'hidden';
}

function updateFontBtns(footer, modalState){
  footer.querySelectorAll('.font-btn').forEach(btn=>{
    const fam = btn.dataset.family || '';
    btn.classList.toggle('active', fam === modalState.fontFamily);
  });
}

function closeModal(){
  document.getElementById('modal-backdrop').classList.remove('open');
  document.body.style.overflow = '';
  currentModalItem = null;
  setTimeout(()=>{ document.getElementById('dbs').textContent=''; }, 350);
}

document.getElementById('modal-close').addEventListener('click', closeModal);
document.getElementById('modal-backdrop').addEventListener('click', function(e){ if(e.target===this) closeModal(); });

let touchStartY = 0;
document.getElementById('modal').addEventListener('touchstart', e=>{ touchStartY = e.touches[0].clientY; }, {passive:true});
document.getElementById('modal').addEventListener('touchend', e=>{ if(e.changedTouches[0].clientY - touchStartY > 80) closeModal(); }, {passive:true});
document.addEventListener('keydown', e=>{ if(e.key==='Escape') closeModal(); });

function setType(t){
  state.type = t;
  ['type-list','m-type-list'].forEach(id=>{
    const list = document.getElementById(id);
    if(!list) return;
    list.querySelectorAll('.type-pill').forEach(p=>p.classList.toggle('active', p.dataset.type===t));
  });
  renderCards();
}

function setAuthor(a){
  state.author = a;
  renderAuthors();
  renderCards();
}

['type-list','m-type-list'].forEach(id=>{
  const list = document.getElementById(id);
  if(!list) return;
  list.querySelectorAll('.type-pill').forEach(pill=>{
    pill.addEventListener('click', ()=>setType(pill.dataset.type));
  });
});

document.getElementById('search-input').addEventListener('input', function(){
  state.query = this.value.trim();
  renderCards();
});

document.querySelectorAll('.nav-btn').forEach(btn=>{
  btn.addEventListener('click', ()=>{
    document.querySelectorAll('.nav-btn').forEach(b=>b.classList.remove('active'));
    btn.classList.add('active');
    const tab = btn.dataset.tab;
    const gv = document.getElementById('gallery-view');
    const sv = document.getElementById('submit-view');
    if(tab==='gallery'){ gv.style.display='flex'; sv.classList.remove('active'); }
    else { gv.style.display='none'; sv.classList.add('active'); }
  });
});

document.getElementById('mobile-filter-btn').addEventListener('click', ()=>{ document.getElementById('filter-drawer').classList.add('open'); });
document.getElementById('filter-drawer-bg').addEventListener('click', ()=>{ document.getElementById('filter-drawer').classList.remove('open'); });

const SUBMIT_EMAIL = '3152037224@qq.com';

window.switchForm = function(type){
  document.querySelectorAll('.form-panel').forEach(p=>p.classList.remove('active'));
  document.querySelectorAll('.s-type-btn').forEach((b,i)=>b.classList.toggle('active',(type==='bubble'&&i===0)||(type==='font'&&i===1)));
  document.getElementById('form-'+type).classList.add('active');
  document.getElementById('fallback-bubble').classList.remove('show');
  document.getElementById('fallback-font').classList.remove('show');
};

function buildBubbleCode(name, author, css, demos, series, groupId){
  const tagMap = ['sent','received','sent','received'];
  const prevStr = demos.filter(d=>d.v).map(d=>`    {t:'${d.t}',v:'${d.v.replace(/'/g,"\\'")}'}` ).join(',\n');
  const nextId = 'b' + (BUBBLES.length + 1);
  const groupLine = groupId ? `\n  group:'${groupId}',\n  groupLabel:'${series||groupId}',` : (series ? `\n  /* ç³»åˆ—ï¼š${series} */` : '');
  return `/* === æ°”æ³¡æŠ•ç¨¿ === */\n{\n  id:'${nextId}',\n  type:'bubble',\n  name:'${name}',\n  author:'${author||'åŒ¿å'}',${groupLine}\n  previews:[\n${prevStr}\n  ],\n  css:\`${css}\`\n}`;
}

function buildFontCode(name, author, url, category){
  const nextId = 'f' + (FONTS.length + 1);
  const nextFamily = 'F' + (FONTS.length + 1);
  return `/* === å­—ä½“æŠ•ç¨¿ === */\n/* 1. åœ¨ @font-face æ·»åŠ : */\n@font-face { font-family:'${nextFamily}'; src:url('${url}') format('truetype'); font-display:swap }\n\n/* 2. åœ¨ FONTS æ•°ç»„æ·»åŠ : */\n{\n  id:'${nextId}',\n  type:'font',\n  name:'${name}',\n  author:'${author||'åŒ¿å'}',\n  family:'${nextFamily}',\n  category:'${category||'å…¶ä»–'}',\n  url:'${url}'\n}\n\n/* æ³¨æ„ï¼šæ–°å­—ä½“éœ€ç”¨æˆ·åœ¨ç”»å»Šæ”¶è—åæ‰ä¼šæ˜¾ç¤ºåœ¨é¢„è§ˆå­—ä½“åˆ‡æ¢çš„"å·²æ”¶è—"åŒºåŸŸ */`;
}

window.doSubmit = function(type){
  const nl = '\r\n';
  let subject='', body='', code='';

  if(type==='bubble'){
    const name   = document.getElementById('bubble-name').value.trim();
    const author = document.getElementById('bubble-author').value.trim();
    const css    = document.getElementById('bubble-css').value.trim();
    const series = document.getElementById('bubble-series').value.trim();
    const groupId= document.getElementById('bubble-group-id').value.trim().replace(/\s+/g,'');
    const demos  = [1,2,3,4].map((n,i)=>({ t:['sent','received','sent','received'][i], v:document.getElementById('p'+n).value.trim() }));
    if(!name || !css){ toast('âš ï¸ è¯·å¡«å†™åç§°å’Œ CSS ä»£ç '); return; }

    code = buildBubbleCode(name, author, css, demos, series, groupId);
    subject = `ã€æ°”æ³¡æŠ•ç¨¿ã€‘${name} - ${author||'åŒ¿å'}${series?' ['+series+']':''}`;
    body = `æŠ•ç¨¿ç±»å‹ï¼šèŠå¤©æ°”æ³¡${nl}åç§°ï¼š${name}${nl}ä½œè€…ï¼š${author||'åŒ¿å'}${series?nl+'æ‰€å±ç³»åˆ—ï¼š'+series:''}${groupId?nl+'ç³»åˆ—IDï¼š'+groupId:''}${nl}${nl}--- å¯ç›´æ¥ç²˜è´´åˆ°ä»£ç çš„æ•°æ®æ¡ç›® ---${nl}${code}`;

    document.getElementById('fb-content-bubble').value = `æ”¶ä»¶äºº: ${SUBMIT_EMAIL}\nä¸»é¢˜: ${subject}\n\n${body}`;
    document.getElementById('fallback-bubble').classList.add('show');

  } else {
    const name   = document.getElementById('font-name').value.trim();
    const author = document.getElementById('font-author').value.trim();
    const url    = document.getElementById('font-url').value.trim();
    const cat    = document.getElementById('font-category').value;
    if(!name || !url){ toast('âš ï¸ è¯·å¡«å†™åç§°å’Œå­—ä½“é“¾æ¥'); return; }

    code = buildFontCode(name, author, url, cat);
    subject = `ã€å­—ä½“æŠ•ç¨¿ã€‘${name} - ${author||'åŒ¿å'}`;
    body = `æŠ•ç¨¿ç±»å‹ï¼šå­—ä½“æ ·å¼${nl}åç§°ï¼š${name}${nl}ä½œè€…ï¼š${author||'åŒ¿å'}${nl}åˆ†ç±»ï¼š${cat}${nl}${nl}--- å¯ç›´æ¥ç²˜è´´åˆ°ä»£ç çš„æ•°æ®æ¡ç›® ---${nl}${code}`;

    document.getElementById('fb-content-font').value = `æ”¶ä»¶äºº: ${SUBMIT_EMAIL}\nä¸»é¢˜: ${subject}\n\n${body}`;
    document.getElementById('fallback-font').classList.add('show');
  }

  window.location.href = `mailto:${SUBMIT_EMAIL}?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
  setTimeout(()=> toast('ğŸš€ æ­£åœ¨å”¤èµ·é‚®ä»¶å®¢æˆ·ç«¯ï¼Œå¦‚æœªå¼¹å‡ºè¯·ä½¿ç”¨ä¸‹æ–¹æ‰‹åŠ¨å‘é€'), 400);
};

window.copyFallback = function(type){
  const el = document.getElementById('fb-content-'+type);
  copyText(el.value, 'æŠ•ç¨¿å†…å®¹');
};

window.copyEmail = function(type){
  copyText(SUBMIT_EMAIL, 'æ”¶ä»¶åœ°å€');
};
updateFavCounts();
renderAuthors();
renderCards();

/* ===== THEME TOGGLE ===== */
(function(){
  const root = document.documentElement;
  const btn = document.getElementById('theme-toggle');
  const sunIcon = document.getElementById('theme-icon-sun');
  const moonIcon = document.getElementById('theme-icon-moon');
  let dark = localStorage.getItem('theme') === 'dark' ||
    (!localStorage.getItem('theme') && window.matchMedia('(prefers-color-scheme: dark)').matches);

  function applyTheme(){
    if(dark){
      root.classList.add('dark');
      sunIcon.style.display = '';
      moonIcon.style.display = 'none';
    } else {
      root.classList.remove('dark');
      sunIcon.style.display = 'none';
      moonIcon.style.display = '';
    }
  }
  applyTheme();
  btn.addEventListener('click', ()=>{
    dark = !dark;
    localStorage.setItem('theme', dark ? 'dark' : 'light');
    applyTheme();
  });
})();

})();
</script>
</body>
</html>